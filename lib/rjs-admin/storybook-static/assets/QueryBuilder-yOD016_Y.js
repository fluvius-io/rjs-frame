import{j as l}from"./jsx-runtime-BjG_zV1W.js";import{r as c,V as jn,R as fe}from"./iframe-4KYKMOYs.js";import{B as pe,c as Q,a as et,u as H,b as _n}from"./Button-eyc4dcTo.js";import"./api-B9Cd0jbc.js";import{r as Tn,H as ho}from"./index-9S3zA3-C.js";function he(e,t){if(e==null)return{};var n={},r=Object.keys(e),o,s;for(s=0;s<r.length;s++)o=r[s],!(t.indexOf(o)>=0)&&(n[o]=e[o]);return n}var vo=["color"],go=c.forwardRef(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,o=he(e,vo);return c.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o,{ref:t}),c.createElement("path",{d:"M7.5 2C7.77614 2 8 2.22386 8 2.5L8 11.2929L11.1464 8.14645C11.3417 7.95118 11.6583 7.95118 11.8536 8.14645C12.0488 8.34171 12.0488 8.65829 11.8536 8.85355L7.85355 12.8536C7.75979 12.9473 7.63261 13 7.5 13C7.36739 13 7.24021 12.9473 7.14645 12.8536L3.14645 8.85355C2.95118 8.65829 2.95118 8.34171 3.14645 8.14645C3.34171 7.95118 3.65829 7.95118 3.85355 8.14645L7 11.2929L7 2.5C7 2.22386 7.22386 2 7.5 2Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),xo=["color"],yo=c.forwardRef(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,o=he(e,xo);return c.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o,{ref:t}),c.createElement("path",{d:"M7.14645 2.14645C7.34171 1.95118 7.65829 1.95118 7.85355 2.14645L11.8536 6.14645C12.0488 6.34171 12.0488 6.65829 11.8536 6.85355C11.6583 7.04882 11.3417 7.04882 11.1464 6.85355L8 3.70711L8 12.5C8 12.7761 7.77614 13 7.5 13C7.22386 13 7 12.7761 7 12.5L7 3.70711L3.85355 6.85355C3.65829 7.04882 3.34171 7.04882 3.14645 6.85355C2.95118 6.65829 2.95118 6.34171 3.14645 6.14645L7.14645 2.14645Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),wo=["color"],Lt=c.forwardRef(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,o=he(e,wo);return c.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o,{ref:t}),c.createElement("path",{d:"M3.13523 6.15803C3.3241 5.95657 3.64052 5.94637 3.84197 6.13523L7.5 9.56464L11.158 6.13523C11.3595 5.94637 11.6759 5.95657 11.8648 6.15803C12.0536 6.35949 12.0434 6.67591 11.842 6.86477L7.84197 10.6148C7.64964 10.7951 7.35036 10.7951 7.15803 10.6148L3.15803 6.86477C2.95657 6.67591 2.94637 6.35949 3.13523 6.15803Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),bo=["color"],In=c.forwardRef(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,o=he(e,bo);return c.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o,{ref:t}),c.createElement("path",{d:"M11.7816 4.03157C12.0062 3.80702 12.0062 3.44295 11.7816 3.2184C11.5571 2.99385 11.193 2.99385 10.9685 3.2184L7.50005 6.68682L4.03164 3.2184C3.80708 2.99385 3.44301 2.99385 3.21846 3.2184C2.99391 3.44295 2.99391 3.80702 3.21846 4.03157L6.68688 7.49999L3.21846 10.9684C2.99391 11.193 2.99391 11.557 3.21846 11.7816C3.44301 12.0061 3.80708 12.0061 4.03164 11.7816L7.50005 8.31316L10.9685 11.7816C11.193 12.0061 11.5571 12.0061 11.7816 11.7816C12.0062 11.557 12.0062 11.193 11.7816 10.9684L8.31322 7.49999L11.7816 4.03157Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),Co=["color"],Dn=c.forwardRef(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,o=he(e,Co);return c.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o,{ref:t}),c.createElement("path",{d:"M8.4449 0.608765C8.0183 -0.107015 6.9817 -0.107015 6.55509 0.608766L0.161178 11.3368C-0.275824 12.07 0.252503 13 1.10608 13H13.8939C14.7475 13 15.2758 12.07 14.8388 11.3368L8.4449 0.608765ZM7.4141 1.12073C7.45288 1.05566 7.54712 1.05566 7.5859 1.12073L13.9798 11.8488C14.0196 11.9154 13.9715 12 13.8939 12H1.10608C1.02849 12 0.980454 11.9154 1.02018 11.8488L7.4141 1.12073ZM6.8269 4.48611C6.81221 4.10423 7.11783 3.78663 7.5 3.78663C7.88217 3.78663 8.18778 4.10423 8.1731 4.48612L8.01921 8.48701C8.00848 8.766 7.7792 8.98664 7.5 8.98664C7.2208 8.98664 6.99151 8.766 6.98078 8.48701L6.8269 4.48611ZM8.24989 10.476C8.24989 10.8902 7.9141 11.226 7.49989 11.226C7.08567 11.226 6.74989 10.8902 6.74989 10.476C6.74989 10.0618 7.08567 9.72599 7.49989 9.72599C7.9141 9.72599 8.24989 10.0618 8.24989 10.476Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),Eo=["color"],Oc=c.forwardRef(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,o=he(e,Eo);return c.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o,{ref:t}),c.createElement("path",{d:"M5.5 3C4.67157 3 4 3.67157 4 4.5C4 5.32843 4.67157 6 5.5 6C6.32843 6 7 5.32843 7 4.5C7 3.67157 6.32843 3 5.5 3ZM3 5C3.01671 5 3.03323 4.99918 3.04952 4.99758C3.28022 6.1399 4.28967 7 5.5 7C6.71033 7 7.71978 6.1399 7.95048 4.99758C7.96677 4.99918 7.98329 5 8 5H13.5C13.7761 5 14 4.77614 14 4.5C14 4.22386 13.7761 4 13.5 4H8C7.98329 4 7.96677 4.00082 7.95048 4.00242C7.71978 2.86009 6.71033 2 5.5 2C4.28967 2 3.28022 2.86009 3.04952 4.00242C3.03323 4.00082 3.01671 4 3 4H1.5C1.22386 4 1 4.22386 1 4.5C1 4.77614 1.22386 5 1.5 5H3ZM11.9505 10.9976C11.7198 12.1399 10.7103 13 9.5 13C8.28967 13 7.28022 12.1399 7.04952 10.9976C7.03323 10.9992 7.01671 11 7 11H1.5C1.22386 11 1 10.7761 1 10.5C1 10.2239 1.22386 10 1.5 10H7C7.01671 10 7.03323 10.0008 7.04952 10.0024C7.28022 8.8601 8.28967 8 9.5 8C10.7103 8 11.7198 8.8601 11.9505 10.0024C11.9668 10.0008 11.9833 10 12 10H13.5C13.7761 10 14 10.2239 14 10.5C14 10.7761 13.7761 11 13.5 11H12C11.9833 11 11.9668 10.9992 11.9505 10.9976ZM8 10.5C8 9.67157 8.67157 9 9.5 9C10.3284 9 11 9.67157 11 10.5C11 11.3284 10.3284 12 9.5 12C8.67157 12 8 11.3284 8 10.5Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),Ro=["color"],Fn=c.forwardRef(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,o=he(e,Ro);return c.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o,{ref:t}),c.createElement("path",{d:"M8 2.75C8 2.47386 7.77614 2.25 7.5 2.25C7.22386 2.25 7 2.47386 7 2.75V7H2.75C2.47386 7 2.25 7.22386 2.25 7.5C2.25 7.77614 2.47386 8 2.75 8H7V12.25C7 12.5261 7.22386 12.75 7.5 12.75C7.77614 12.75 8 12.5261 8 12.25V8H12.25C12.5261 8 12.75 7.77614 12.75 7.5C12.75 7.22386 12.5261 7 12.25 7H8V2.75Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))});function So(e){if(e.length===0)return"";const t={};function n(r){if(r.type==="field"){const o=`${r.field}:${r.operator}`;t[o]=r.value}else r.type==="composite"&&r.children.forEach(o=>n(o))}return e.forEach(r=>n(r)),JSON.stringify(t)}function Mo(e){if(!e)return[];try{const t=JSON.parse(e),n=[];return Object.entries(t).forEach(([r,o],s)=>{const[a,i]=r.split(":");a&&i&&n.push({id:`filter-${s}`,type:"field",field:a,operator:i,value:o})}),n}catch(t){return console.warn("Failed to parse query string:",t),[]}}function jc(e){const t={};return e.selectedFields.length>0&&(t.select=e.selectedFields),e.sortRules.length>0&&(t.sort=e.sortRules.map(n=>`${n.field}:${n.direction}`)),e.filterRules.length>0&&(t.query=So(e.filterRules)),t}function _c(e){const t={selectedFields:e.select||[],sortRules:[],filterRules:[]};return e.sort&&(t.sortRules=e.sort.map((n,r)=>{const[o,s]=n.split(":");return{field:o||`field-${r}`,direction:s==="desc"?"desc":"asc"}})),e.query&&(t.filterRules=Mo(e.query)),t}function tt(){return`filter_${Date.now()}_${Math.random().toString(36).substr(2,9)}`}function kt(e,t){return t.operators?Object.entries(t.operators).filter(([,n])=>n.field_name===e).map(([,n])=>n.operator):[]}function ct(e){return Object.entries(e.fields).filter(([,t])=>!t.hidden).map(([t])=>t)}function No(e){return Object.entries(e.fields).filter(([,t])=>t.sortable&&!t.hidden).map(([t])=>t)}const Ln=({metadata:e,selectedFields:t,onSelectedFieldsChange:n})=>{const r=ct(e),o=(i,m)=>{m?t.includes(i)||n([...t,i]):n(t.filter(d=>d!==i))},s=()=>{n([])},a=()=>{n(r)};return l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("h3",{className:"text-sm font-medium",children:["Field Selection (",t.length,")"]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx(pe,{variant:"outline",size:"sm",onClick:a,children:"Select All"}),l.jsx(pe,{variant:"outline",size:"sm",onClick:s,children:"Clear All"})]})]}),l.jsx("div",{className:"space-y-4",children:l.jsxs("div",{children:[l.jsx("div",{className:"max-h-48 overflow-y-auto border rounded p-2 bg-green-50/50",children:r.map(i=>{const m=e.fields[i],d=t.includes(i);return l.jsxs("label",{className:Q("flex items-center gap-2 p-1 rounded text-sm cursor-pointer hover:bg-green-100",d&&"bg-green-100"),children:[l.jsx("input",{type:"checkbox",checked:d,onChange:f=>o(i,f.target.checked),className:"rounded border-gray-300"}),l.jsx("span",{className:"font-mono text-xs",children:i}),l.jsxs("span",{className:"text-gray-600",children:["(",m.label,")"]})]},i)})}),l.jsx("p",{className:"text-xs text-green-600 mt-1",children:"If no fields selected, all fields will be included"})]})})]})};Ln.__docgenInfo={description:"",methods:[],displayName:"FieldSelector",props:{metadata:{required:!0,tsType:{name:"QueryMetadata"},description:""},selectedFields:{required:!0,tsType:{name:"Array",elements:[{name:"string"}],raw:"string[]"},description:""},onSelectedFieldsChange:{required:!0,tsType:{name:"signature",type:"function",raw:"(fields: string[]) => void",signature:{arguments:[{type:{name:"Array",elements:[{name:"string"}],raw:"string[]"},name:"fields"}],return:{name:"void"}}},description:""}}};function P(e,t,{checkForDefaultPrevented:n=!0}={}){return function(o){if(e==null||e(o),n===!1||!o.defaultPrevented)return t==null?void 0:t(o)}}function Le(e,t=[]){let n=[];function r(s,a){const i=c.createContext(a),m=n.length;n=[...n,a];const d=u=>{var y;const{scope:p,children:h,...g}=u,v=((y=p==null?void 0:p[e])==null?void 0:y[m])||i,x=c.useMemo(()=>g,Object.values(g));return l.jsx(v.Provider,{value:x,children:h})};d.displayName=s+"Provider";function f(u,p){var v;const h=((v=p==null?void 0:p[e])==null?void 0:v[m])||i,g=c.useContext(h);if(g)return g;if(a!==void 0)return a;throw new Error(`\`${u}\` must be used within \`${s}\``)}return[d,f]}const o=()=>{const s=n.map(a=>c.createContext(a));return function(i){const m=(i==null?void 0:i[e])||s;return c.useMemo(()=>({[`__scope${e}`]:{...i,[e]:m}}),[i,m])}};return o.scopeName=e,[r,Ao(o,...t)]}function Ao(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(s){const a=r.reduce((i,{useScope:m,scopeName:d})=>{const u=m(s)[`__scope${d}`];return{...i,...u}},{});return c.useMemo(()=>({[`__scope${t.scopeName}`]:a}),[a])}};return n.scopeName=t.scopeName,n}var ce=globalThis!=null&&globalThis.document?c.useLayoutEffect:()=>{},Po=jn[" useInsertionEffect ".trim().toString()]||ce;function kn({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[o,s,a]=Oo({defaultProp:t,onChange:n}),i=e!==void 0,m=i?e:o;{const f=c.useRef(e!==void 0);c.useEffect(()=>{const u=f.current;u!==i&&console.warn(`${r} is changing from ${u?"controlled":"uncontrolled"} to ${i?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),f.current=i},[i,r])}const d=c.useCallback(f=>{var u;if(i){const p=jo(f)?f(e):f;p!==e&&((u=a.current)==null||u.call(a,p))}else s(f)},[i,e,s,a]);return[m,d]}function Oo({defaultProp:e,onChange:t}){const[n,r]=c.useState(e),o=c.useRef(n),s=c.useRef(t);return Po(()=>{s.current=t},[t]),c.useEffect(()=>{var a;o.current!==n&&((a=s.current)==null||a.call(s,n),o.current=n)},[n,o]),[n,r,s]}function jo(e){return typeof e=="function"}var _o=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],W=_o.reduce((e,t)=>{const n=et(`Primitive.${t}`),r=c.forwardRef((o,s)=>{const{asChild:a,...i}=o,m=a?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),l.jsx(m,{...i,ref:s})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function $n(e,t){e&&Tn.flushSync(()=>e.dispatchEvent(t))}function Bn(e){const t=e+"CollectionProvider",[n,r]=Le(t),[o,s]=n(t,{collectionRef:{current:null},itemMap:new Map}),a=v=>{const{scope:x,children:y}=v,E=fe.useRef(null),b=fe.useRef(new Map).current;return l.jsx(o,{scope:x,itemMap:b,collectionRef:E,children:y})};a.displayName=t;const i=e+"CollectionSlot",m=et(i),d=fe.forwardRef((v,x)=>{const{scope:y,children:E}=v,b=s(i,y),w=H(x,b.collectionRef);return l.jsx(m,{ref:w,children:E})});d.displayName=i;const f=e+"CollectionItemSlot",u="data-radix-collection-item",p=et(f),h=fe.forwardRef((v,x)=>{const{scope:y,children:E,...b}=v,w=fe.useRef(null),C=H(x,w),M=s(f,y);return fe.useEffect(()=>(M.itemMap.set(w,{ref:w,...b}),()=>void M.itemMap.delete(w))),l.jsx(p,{[u]:"",ref:C,children:E})});h.displayName=f;function g(v){const x=s(e+"CollectionConsumer",v);return fe.useCallback(()=>{const E=x.collectionRef.current;if(!E)return[];const b=Array.from(E.querySelectorAll(`[${u}]`));return Array.from(x.itemMap.values()).sort((M,R)=>b.indexOf(M.ref.current)-b.indexOf(R.ref.current))},[x.collectionRef,x.itemMap])}return[{Provider:a,Slot:d,ItemSlot:h},g,r]}var To=c.createContext(void 0);function Wn(e){const t=c.useContext(To);return e||t||"ltr"}function oe(e){const t=c.useRef(e);return c.useEffect(()=>{t.current=e}),c.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function Io(e,t=globalThis==null?void 0:globalThis.document){const n=oe(e);c.useEffect(()=>{const r=o=>{o.key==="Escape"&&n(o)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var Do="DismissableLayer",Pt="dismissableLayer.update",Fo="dismissableLayer.pointerDownOutside",Lo="dismissableLayer.focusOutside",un,Un=c.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Hn=c.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:o,onFocusOutside:s,onInteractOutside:a,onDismiss:i,...m}=e,d=c.useContext(Un),[f,u]=c.useState(null),p=(f==null?void 0:f.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,h]=c.useState({}),g=H(t,R=>u(R)),v=Array.from(d.layers),[x]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),y=v.indexOf(x),E=f?v.indexOf(f):-1,b=d.layersWithOutsidePointerEventsDisabled.size>0,w=E>=y,C=Bo(R=>{const N=R.target,_=[...d.branches].some(O=>O.contains(N));!w||_||(o==null||o(R),a==null||a(R),R.defaultPrevented||i==null||i())},p),M=Wo(R=>{const N=R.target;[...d.branches].some(O=>O.contains(N))||(s==null||s(R),a==null||a(R),R.defaultPrevented||i==null||i())},p);return Io(R=>{E===d.layers.size-1&&(r==null||r(R),!R.defaultPrevented&&i&&(R.preventDefault(),i()))},p),c.useEffect(()=>{if(f)return n&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(un=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(f)),d.layers.add(f),dn(),()=>{n&&d.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=un)}},[f,p,n,d]),c.useEffect(()=>()=>{f&&(d.layers.delete(f),d.layersWithOutsidePointerEventsDisabled.delete(f),dn())},[f,d]),c.useEffect(()=>{const R=()=>h({});return document.addEventListener(Pt,R),()=>document.removeEventListener(Pt,R)},[]),l.jsx(W.div,{...m,ref:g,style:{pointerEvents:b?w?"auto":"none":void 0,...e.style},onFocusCapture:P(e.onFocusCapture,M.onFocusCapture),onBlurCapture:P(e.onBlurCapture,M.onBlurCapture),onPointerDownCapture:P(e.onPointerDownCapture,C.onPointerDownCapture)})});Hn.displayName=Do;var ko="DismissableLayerBranch",$o=c.forwardRef((e,t)=>{const n=c.useContext(Un),r=c.useRef(null),o=H(t,r);return c.useEffect(()=>{const s=r.current;if(s)return n.branches.add(s),()=>{n.branches.delete(s)}},[n.branches]),l.jsx(W.div,{...e,ref:o})});$o.displayName=ko;function Bo(e,t=globalThis==null?void 0:globalThis.document){const n=oe(e),r=c.useRef(!1),o=c.useRef(()=>{});return c.useEffect(()=>{const s=i=>{if(i.target&&!r.current){let m=function(){Vn(Fo,n,d,{discrete:!0})};const d={originalEvent:i};i.pointerType==="touch"?(t.removeEventListener("click",o.current),o.current=m,t.addEventListener("click",o.current,{once:!0})):m()}else t.removeEventListener("click",o.current);r.current=!1},a=window.setTimeout(()=>{t.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(a),t.removeEventListener("pointerdown",s),t.removeEventListener("click",o.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function Wo(e,t=globalThis==null?void 0:globalThis.document){const n=oe(e),r=c.useRef(!1);return c.useEffect(()=>{const o=s=>{s.target&&!r.current&&Vn(Lo,n,{originalEvent:s},{discrete:!1})};return t.addEventListener("focusin",o),()=>t.removeEventListener("focusin",o)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function dn(){const e=new CustomEvent(Pt);document.dispatchEvent(e)}function Vn(e,t,n,{discrete:r}){const o=n.originalEvent.target,s=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&o.addEventListener(e,t,{once:!0}),r?$n(o,s):o.dispatchEvent(s)}var yt=0;function Uo(){c.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??fn()),document.body.insertAdjacentElement("beforeend",e[1]??fn()),yt++,()=>{yt===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),yt--}},[])}function fn(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var wt="focusScope.autoFocusOnMount",bt="focusScope.autoFocusOnUnmount",pn={bubbles:!1,cancelable:!0},Ho="FocusScope",Kn=c.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:o,onUnmountAutoFocus:s,...a}=e,[i,m]=c.useState(null),d=oe(o),f=oe(s),u=c.useRef(null),p=H(t,v=>m(v)),h=c.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;c.useEffect(()=>{if(r){let v=function(b){if(h.paused||!i)return;const w=b.target;i.contains(w)?u.current=w:ae(u.current,{select:!0})},x=function(b){if(h.paused||!i)return;const w=b.relatedTarget;w!==null&&(i.contains(w)||ae(u.current,{select:!0}))},y=function(b){if(document.activeElement===document.body)for(const C of b)C.removedNodes.length>0&&ae(i)};document.addEventListener("focusin",v),document.addEventListener("focusout",x);const E=new MutationObserver(y);return i&&E.observe(i,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",v),document.removeEventListener("focusout",x),E.disconnect()}}},[r,i,h.paused]),c.useEffect(()=>{if(i){hn.add(h);const v=document.activeElement;if(!i.contains(v)){const y=new CustomEvent(wt,pn);i.addEventListener(wt,d),i.dispatchEvent(y),y.defaultPrevented||(Vo(Yo(Gn(i)),{select:!0}),document.activeElement===v&&ae(i))}return()=>{i.removeEventListener(wt,d),setTimeout(()=>{const y=new CustomEvent(bt,pn);i.addEventListener(bt,f),i.dispatchEvent(y),y.defaultPrevented||ae(v??document.body,{select:!0}),i.removeEventListener(bt,f),hn.remove(h)},0)}}},[i,d,f,h]);const g=c.useCallback(v=>{if(!n&&!r||h.paused)return;const x=v.key==="Tab"&&!v.altKey&&!v.ctrlKey&&!v.metaKey,y=document.activeElement;if(x&&y){const E=v.currentTarget,[b,w]=Ko(E);b&&w?!v.shiftKey&&y===w?(v.preventDefault(),n&&ae(b,{select:!0})):v.shiftKey&&y===b&&(v.preventDefault(),n&&ae(w,{select:!0})):y===E&&v.preventDefault()}},[n,r,h.paused]);return l.jsx(W.div,{tabIndex:-1,...a,ref:p,onKeyDown:g})});Kn.displayName=Ho;function Vo(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(ae(r,{select:t}),document.activeElement!==n)return}function Ko(e){const t=Gn(e),n=mn(t,e),r=mn(t.reverse(),e);return[n,r]}function Gn(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const o=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||o?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function mn(e,t){for(const n of e)if(!Go(n,{upTo:t}))return n}function Go(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function zo(e){return e instanceof HTMLInputElement&&"select"in e}function ae(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&zo(e)&&t&&e.select()}}var hn=qo();function qo(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=vn(e,t),e.unshift(t)},remove(t){var n;e=vn(e,t),(n=e[0])==null||n.resume()}}}function vn(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function Yo(e){return e.filter(t=>t.tagName!=="A")}var Xo=jn[" useId ".trim().toString()]||(()=>{}),Zo=0;function Ot(e){const[t,n]=c.useState(Xo());return ce(()=>{n(r=>r??String(Zo++))},[e]),e||(t?`radix-${t}`:"")}const Qo=["top","right","bottom","left"],le=Math.min,V=Math.max,nt=Math.round,Ke=Math.floor,J=e=>({x:e,y:e}),Jo={left:"right",right:"left",bottom:"top",top:"bottom"},es={start:"end",end:"start"};function jt(e,t,n){return V(e,le(t,n))}function se(e,t){return typeof e=="function"?e(t):e}function ie(e){return e.split("-")[0]}function Re(e){return e.split("-")[1]}function $t(e){return e==="x"?"y":"x"}function Bt(e){return e==="y"?"height":"width"}function re(e){return["top","bottom"].includes(ie(e))?"y":"x"}function Wt(e){return $t(re(e))}function ts(e,t,n){n===void 0&&(n=!1);const r=Re(e),o=Wt(e),s=Bt(o);let a=o==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[s]>t.floating[s]&&(a=rt(a)),[a,rt(a)]}function ns(e){const t=rt(e);return[_t(e),t,_t(t)]}function _t(e){return e.replace(/start|end/g,t=>es[t])}function rs(e,t,n){const r=["left","right"],o=["right","left"],s=["top","bottom"],a=["bottom","top"];switch(e){case"top":case"bottom":return n?t?o:r:t?r:o;case"left":case"right":return t?s:a;default:return[]}}function os(e,t,n,r){const o=Re(e);let s=rs(ie(e),n==="start",r);return o&&(s=s.map(a=>a+"-"+o),t&&(s=s.concat(s.map(_t)))),s}function rt(e){return e.replace(/left|right|bottom|top/g,t=>Jo[t])}function ss(e){return{top:0,right:0,bottom:0,left:0,...e}}function zn(e){return typeof e!="number"?ss(e):{top:e,right:e,bottom:e,left:e}}function ot(e){const{x:t,y:n,width:r,height:o}=e;return{width:r,height:o,top:n,left:t,right:t+r,bottom:n+o,x:t,y:n}}function gn(e,t,n){let{reference:r,floating:o}=e;const s=re(t),a=Wt(t),i=Bt(a),m=ie(t),d=s==="y",f=r.x+r.width/2-o.width/2,u=r.y+r.height/2-o.height/2,p=r[i]/2-o[i]/2;let h;switch(m){case"top":h={x:f,y:r.y-o.height};break;case"bottom":h={x:f,y:r.y+r.height};break;case"right":h={x:r.x+r.width,y:u};break;case"left":h={x:r.x-o.width,y:u};break;default:h={x:r.x,y:r.y}}switch(Re(t)){case"start":h[a]-=p*(n&&d?-1:1);break;case"end":h[a]+=p*(n&&d?-1:1);break}return h}const is=async(e,t,n)=>{const{placement:r="bottom",strategy:o="absolute",middleware:s=[],platform:a}=n,i=s.filter(Boolean),m=await(a.isRTL==null?void 0:a.isRTL(t));let d=await a.getElementRects({reference:e,floating:t,strategy:o}),{x:f,y:u}=gn(d,r,m),p=r,h={},g=0;for(let v=0;v<i.length;v++){const{name:x,fn:y}=i[v],{x:E,y:b,data:w,reset:C}=await y({x:f,y:u,initialPlacement:r,placement:p,strategy:o,middlewareData:h,rects:d,platform:a,elements:{reference:e,floating:t}});f=E??f,u=b??u,h={...h,[x]:{...h[x],...w}},C&&g<=50&&(g++,typeof C=="object"&&(C.placement&&(p=C.placement),C.rects&&(d=C.rects===!0?await a.getElementRects({reference:e,floating:t,strategy:o}):C.rects),{x:f,y:u}=gn(d,p,m)),v=-1)}return{x:f,y:u,placement:p,strategy:o,middlewareData:h}};async function Te(e,t){var n;t===void 0&&(t={});const{x:r,y:o,platform:s,rects:a,elements:i,strategy:m}=e,{boundary:d="clippingAncestors",rootBoundary:f="viewport",elementContext:u="floating",altBoundary:p=!1,padding:h=0}=se(t,e),g=zn(h),x=i[p?u==="floating"?"reference":"floating":u],y=ot(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(x)))==null||n?x:x.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(i.floating)),boundary:d,rootBoundary:f,strategy:m})),E=u==="floating"?{x:r,y:o,width:a.floating.width,height:a.floating.height}:a.reference,b=await(s.getOffsetParent==null?void 0:s.getOffsetParent(i.floating)),w=await(s.isElement==null?void 0:s.isElement(b))?await(s.getScale==null?void 0:s.getScale(b))||{x:1,y:1}:{x:1,y:1},C=ot(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:i,rect:E,offsetParent:b,strategy:m}):E);return{top:(y.top-C.top+g.top)/w.y,bottom:(C.bottom-y.bottom+g.bottom)/w.y,left:(y.left-C.left+g.left)/w.x,right:(C.right-y.right+g.right)/w.x}}const as=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:o,rects:s,platform:a,elements:i,middlewareData:m}=t,{element:d,padding:f=0}=se(e,t)||{};if(d==null)return{};const u=zn(f),p={x:n,y:r},h=Wt(o),g=Bt(h),v=await a.getDimensions(d),x=h==="y",y=x?"top":"left",E=x?"bottom":"right",b=x?"clientHeight":"clientWidth",w=s.reference[g]+s.reference[h]-p[h]-s.floating[g],C=p[h]-s.reference[h],M=await(a.getOffsetParent==null?void 0:a.getOffsetParent(d));let R=M?M[b]:0;(!R||!await(a.isElement==null?void 0:a.isElement(M)))&&(R=i.floating[b]||s.floating[g]);const N=w/2-C/2,_=R/2-v[g]/2-1,O=le(u[y],_),D=le(u[E],_),F=O,I=R-v[g]-D,L=R/2-v[g]/2+N,k=jt(F,L,I),T=!m.arrow&&Re(o)!=null&&L!==k&&s.reference[g]/2-(L<F?O:D)-v[g]/2<0,$=T?L<F?L-F:L-I:0;return{[h]:p[h]+$,data:{[h]:k,centerOffset:L-k-$,...T&&{alignmentOffset:$}},reset:T}}}),cs=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:o,middlewareData:s,rects:a,initialPlacement:i,platform:m,elements:d}=t,{mainAxis:f=!0,crossAxis:u=!0,fallbackPlacements:p,fallbackStrategy:h="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:v=!0,...x}=se(e,t);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const y=ie(o),E=re(i),b=ie(i)===i,w=await(m.isRTL==null?void 0:m.isRTL(d.floating)),C=p||(b||!v?[rt(i)]:ns(i)),M=g!=="none";!p&&M&&C.push(...os(i,v,g,w));const R=[i,...C],N=await Te(t,x),_=[];let O=((r=s.flip)==null?void 0:r.overflows)||[];if(f&&_.push(N[y]),u){const k=ts(o,a,w);_.push(N[k[0]],N[k[1]])}if(O=[...O,{placement:o,overflows:_}],!_.every(k=>k<=0)){var D,F;const k=(((D=s.flip)==null?void 0:D.index)||0)+1,T=R[k];if(T){var I;const A=u==="alignment"?E!==re(T):!1,S=((I=O[0])==null?void 0:I.overflows[0])>0;if(!A||S)return{data:{index:k,overflows:O},reset:{placement:T}}}let $=(F=O.filter(A=>A.overflows[0]<=0).sort((A,S)=>A.overflows[1]-S.overflows[1])[0])==null?void 0:F.placement;if(!$)switch(h){case"bestFit":{var L;const A=(L=O.filter(S=>{if(M){const j=re(S.placement);return j===E||j==="y"}return!0}).map(S=>[S.placement,S.overflows.filter(j=>j>0).reduce((j,B)=>j+B,0)]).sort((S,j)=>S[1]-j[1])[0])==null?void 0:L[0];A&&($=A);break}case"initialPlacement":$=i;break}if(o!==$)return{reset:{placement:$}}}return{}}}};function xn(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function yn(e){return Qo.some(t=>e[t]>=0)}const ls=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...o}=se(e,t);switch(r){case"referenceHidden":{const s=await Te(t,{...o,elementContext:"reference"}),a=xn(s,n.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:yn(a)}}}case"escaped":{const s=await Te(t,{...o,altBoundary:!0}),a=xn(s,n.floating);return{data:{escapedOffsets:a,escaped:yn(a)}}}default:return{}}}}};async function us(e,t){const{placement:n,platform:r,elements:o}=e,s=await(r.isRTL==null?void 0:r.isRTL(o.floating)),a=ie(n),i=Re(n),m=re(n)==="y",d=["left","top"].includes(a)?-1:1,f=s&&m?-1:1,u=se(t,e);let{mainAxis:p,crossAxis:h,alignmentAxis:g}=typeof u=="number"?{mainAxis:u,crossAxis:0,alignmentAxis:null}:{mainAxis:u.mainAxis||0,crossAxis:u.crossAxis||0,alignmentAxis:u.alignmentAxis};return i&&typeof g=="number"&&(h=i==="end"?g*-1:g),m?{x:h*f,y:p*d}:{x:p*d,y:h*f}}const ds=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:o,y:s,placement:a,middlewareData:i}=t,m=await us(t,e);return a===((n=i.offset)==null?void 0:n.placement)&&(r=i.arrow)!=null&&r.alignmentOffset?{}:{x:o+m.x,y:s+m.y,data:{...m,placement:a}}}}},fs=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:o}=t,{mainAxis:s=!0,crossAxis:a=!1,limiter:i={fn:x=>{let{x:y,y:E}=x;return{x:y,y:E}}},...m}=se(e,t),d={x:n,y:r},f=await Te(t,m),u=re(ie(o)),p=$t(u);let h=d[p],g=d[u];if(s){const x=p==="y"?"top":"left",y=p==="y"?"bottom":"right",E=h+f[x],b=h-f[y];h=jt(E,h,b)}if(a){const x=u==="y"?"top":"left",y=u==="y"?"bottom":"right",E=g+f[x],b=g-f[y];g=jt(E,g,b)}const v=i.fn({...t,[p]:h,[u]:g});return{...v,data:{x:v.x-n,y:v.y-r,enabled:{[p]:s,[u]:a}}}}}},ps=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:o,rects:s,middlewareData:a}=t,{offset:i=0,mainAxis:m=!0,crossAxis:d=!0}=se(e,t),f={x:n,y:r},u=re(o),p=$t(u);let h=f[p],g=f[u];const v=se(i,t),x=typeof v=="number"?{mainAxis:v,crossAxis:0}:{mainAxis:0,crossAxis:0,...v};if(m){const b=p==="y"?"height":"width",w=s.reference[p]-s.floating[b]+x.mainAxis,C=s.reference[p]+s.reference[b]-x.mainAxis;h<w?h=w:h>C&&(h=C)}if(d){var y,E;const b=p==="y"?"width":"height",w=["top","left"].includes(ie(o)),C=s.reference[u]-s.floating[b]+(w&&((y=a.offset)==null?void 0:y[u])||0)+(w?0:x.crossAxis),M=s.reference[u]+s.reference[b]+(w?0:((E=a.offset)==null?void 0:E[u])||0)-(w?x.crossAxis:0);g<C?g=C:g>M&&(g=M)}return{[p]:h,[u]:g}}}},ms=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:o,rects:s,platform:a,elements:i}=t,{apply:m=()=>{},...d}=se(e,t),f=await Te(t,d),u=ie(o),p=Re(o),h=re(o)==="y",{width:g,height:v}=s.floating;let x,y;u==="top"||u==="bottom"?(x=u,y=p===(await(a.isRTL==null?void 0:a.isRTL(i.floating))?"start":"end")?"left":"right"):(y=u,x=p==="end"?"top":"bottom");const E=v-f.top-f.bottom,b=g-f.left-f.right,w=le(v-f[x],E),C=le(g-f[y],b),M=!t.middlewareData.shift;let R=w,N=C;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(N=b),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(R=E),M&&!p){const O=V(f.left,0),D=V(f.right,0),F=V(f.top,0),I=V(f.bottom,0);h?N=g-2*(O!==0||D!==0?O+D:V(f.left,f.right)):R=v-2*(F!==0||I!==0?F+I:V(f.top,f.bottom))}await m({...t,availableWidth:N,availableHeight:R});const _=await a.getDimensions(i.floating);return g!==_.width||v!==_.height?{reset:{rects:!0}}:{}}}};function lt(){return typeof window<"u"}function Se(e){return qn(e)?(e.nodeName||"").toLowerCase():"#document"}function K(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function te(e){var t;return(t=(qn(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function qn(e){return lt()?e instanceof Node||e instanceof K(e).Node:!1}function q(e){return lt()?e instanceof Element||e instanceof K(e).Element:!1}function ee(e){return lt()?e instanceof HTMLElement||e instanceof K(e).HTMLElement:!1}function wn(e){return!lt()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof K(e).ShadowRoot}function ke(e){const{overflow:t,overflowX:n,overflowY:r,display:o}=Y(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(o)}function hs(e){return["table","td","th"].includes(Se(e))}function ut(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function Ut(e){const t=Ht(),n=q(e)?Y(e):e;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function vs(e){let t=ue(e);for(;ee(t)&&!Ee(t);){if(Ut(t))return t;if(ut(t))return null;t=ue(t)}return null}function Ht(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Ee(e){return["html","body","#document"].includes(Se(e))}function Y(e){return K(e).getComputedStyle(e)}function dt(e){return q(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function ue(e){if(Se(e)==="html")return e;const t=e.assignedSlot||e.parentNode||wn(e)&&e.host||te(e);return wn(t)?t.host:t}function Yn(e){const t=ue(e);return Ee(t)?e.ownerDocument?e.ownerDocument.body:e.body:ee(t)&&ke(t)?t:Yn(t)}function Ie(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const o=Yn(e),s=o===((r=e.ownerDocument)==null?void 0:r.body),a=K(o);if(s){const i=Tt(a);return t.concat(a,a.visualViewport||[],ke(o)?o:[],i&&n?Ie(i):[])}return t.concat(o,Ie(o,[],n))}function Tt(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function Xn(e){const t=Y(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const o=ee(e),s=o?e.offsetWidth:n,a=o?e.offsetHeight:r,i=nt(n)!==s||nt(r)!==a;return i&&(n=s,r=a),{width:n,height:r,$:i}}function Vt(e){return q(e)?e:e.contextElement}function be(e){const t=Vt(e);if(!ee(t))return J(1);const n=t.getBoundingClientRect(),{width:r,height:o,$:s}=Xn(t);let a=(s?nt(n.width):n.width)/r,i=(s?nt(n.height):n.height)/o;return(!a||!Number.isFinite(a))&&(a=1),(!i||!Number.isFinite(i))&&(i=1),{x:a,y:i}}const gs=J(0);function Zn(e){const t=K(e);return!Ht()||!t.visualViewport?gs:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function xs(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==K(e)?!1:t}function me(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const o=e.getBoundingClientRect(),s=Vt(e);let a=J(1);t&&(r?q(r)&&(a=be(r)):a=be(e));const i=xs(s,n,r)?Zn(s):J(0);let m=(o.left+i.x)/a.x,d=(o.top+i.y)/a.y,f=o.width/a.x,u=o.height/a.y;if(s){const p=K(s),h=r&&q(r)?K(r):r;let g=p,v=Tt(g);for(;v&&r&&h!==g;){const x=be(v),y=v.getBoundingClientRect(),E=Y(v),b=y.left+(v.clientLeft+parseFloat(E.paddingLeft))*x.x,w=y.top+(v.clientTop+parseFloat(E.paddingTop))*x.y;m*=x.x,d*=x.y,f*=x.x,u*=x.y,m+=b,d+=w,g=K(v),v=Tt(g)}}return ot({width:f,height:u,x:m,y:d})}function Kt(e,t){const n=dt(e).scrollLeft;return t?t.left+n:me(te(e)).left+n}function Qn(e,t,n){n===void 0&&(n=!1);const r=e.getBoundingClientRect(),o=r.left+t.scrollLeft-(n?0:Kt(e,r)),s=r.top+t.scrollTop;return{x:o,y:s}}function ys(e){let{elements:t,rect:n,offsetParent:r,strategy:o}=e;const s=o==="fixed",a=te(r),i=t?ut(t.floating):!1;if(r===a||i&&s)return n;let m={scrollLeft:0,scrollTop:0},d=J(1);const f=J(0),u=ee(r);if((u||!u&&!s)&&((Se(r)!=="body"||ke(a))&&(m=dt(r)),ee(r))){const h=me(r);d=be(r),f.x=h.x+r.clientLeft,f.y=h.y+r.clientTop}const p=a&&!u&&!s?Qn(a,m,!0):J(0);return{width:n.width*d.x,height:n.height*d.y,x:n.x*d.x-m.scrollLeft*d.x+f.x+p.x,y:n.y*d.y-m.scrollTop*d.y+f.y+p.y}}function ws(e){return Array.from(e.getClientRects())}function bs(e){const t=te(e),n=dt(e),r=e.ownerDocument.body,o=V(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),s=V(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let a=-n.scrollLeft+Kt(e);const i=-n.scrollTop;return Y(r).direction==="rtl"&&(a+=V(t.clientWidth,r.clientWidth)-o),{width:o,height:s,x:a,y:i}}function Cs(e,t){const n=K(e),r=te(e),o=n.visualViewport;let s=r.clientWidth,a=r.clientHeight,i=0,m=0;if(o){s=o.width,a=o.height;const d=Ht();(!d||d&&t==="fixed")&&(i=o.offsetLeft,m=o.offsetTop)}return{width:s,height:a,x:i,y:m}}function Es(e,t){const n=me(e,!0,t==="fixed"),r=n.top+e.clientTop,o=n.left+e.clientLeft,s=ee(e)?be(e):J(1),a=e.clientWidth*s.x,i=e.clientHeight*s.y,m=o*s.x,d=r*s.y;return{width:a,height:i,x:m,y:d}}function bn(e,t,n){let r;if(t==="viewport")r=Cs(e,n);else if(t==="document")r=bs(te(e));else if(q(t))r=Es(t,n);else{const o=Zn(e);r={x:t.x-o.x,y:t.y-o.y,width:t.width,height:t.height}}return ot(r)}function Jn(e,t){const n=ue(e);return n===t||!q(n)||Ee(n)?!1:Y(n).position==="fixed"||Jn(n,t)}function Rs(e,t){const n=t.get(e);if(n)return n;let r=Ie(e,[],!1).filter(i=>q(i)&&Se(i)!=="body"),o=null;const s=Y(e).position==="fixed";let a=s?ue(e):e;for(;q(a)&&!Ee(a);){const i=Y(a),m=Ut(a);!m&&i.position==="fixed"&&(o=null),(s?!m&&!o:!m&&i.position==="static"&&!!o&&["absolute","fixed"].includes(o.position)||ke(a)&&!m&&Jn(e,a))?r=r.filter(f=>f!==a):o=i,a=ue(a)}return t.set(e,r),r}function Ss(e){let{element:t,boundary:n,rootBoundary:r,strategy:o}=e;const a=[...n==="clippingAncestors"?ut(t)?[]:Rs(t,this._c):[].concat(n),r],i=a[0],m=a.reduce((d,f)=>{const u=bn(t,f,o);return d.top=V(u.top,d.top),d.right=le(u.right,d.right),d.bottom=le(u.bottom,d.bottom),d.left=V(u.left,d.left),d},bn(t,i,o));return{width:m.right-m.left,height:m.bottom-m.top,x:m.left,y:m.top}}function Ms(e){const{width:t,height:n}=Xn(e);return{width:t,height:n}}function Ns(e,t,n){const r=ee(t),o=te(t),s=n==="fixed",a=me(e,!0,s,t);let i={scrollLeft:0,scrollTop:0};const m=J(0);function d(){m.x=Kt(o)}if(r||!r&&!s)if((Se(t)!=="body"||ke(o))&&(i=dt(t)),r){const h=me(t,!0,s,t);m.x=h.x+t.clientLeft,m.y=h.y+t.clientTop}else o&&d();s&&!r&&o&&d();const f=o&&!r&&!s?Qn(o,i):J(0),u=a.left+i.scrollLeft-m.x-f.x,p=a.top+i.scrollTop-m.y-f.y;return{x:u,y:p,width:a.width,height:a.height}}function Ct(e){return Y(e).position==="static"}function Cn(e,t){if(!ee(e)||Y(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return te(e)===n&&(n=n.ownerDocument.body),n}function er(e,t){const n=K(e);if(ut(e))return n;if(!ee(e)){let o=ue(e);for(;o&&!Ee(o);){if(q(o)&&!Ct(o))return o;o=ue(o)}return n}let r=Cn(e,t);for(;r&&hs(r)&&Ct(r);)r=Cn(r,t);return r&&Ee(r)&&Ct(r)&&!Ut(r)?n:r||vs(e)||n}const As=async function(e){const t=this.getOffsetParent||er,n=this.getDimensions,r=await n(e.floating);return{reference:Ns(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function Ps(e){return Y(e).direction==="rtl"}const Os={convertOffsetParentRelativeRectToViewportRelativeRect:ys,getDocumentElement:te,getClippingRect:Ss,getOffsetParent:er,getElementRects:As,getClientRects:ws,getDimensions:Ms,getScale:be,isElement:q,isRTL:Ps};function tr(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function js(e,t){let n=null,r;const o=te(e);function s(){var i;clearTimeout(r),(i=n)==null||i.disconnect(),n=null}function a(i,m){i===void 0&&(i=!1),m===void 0&&(m=1),s();const d=e.getBoundingClientRect(),{left:f,top:u,width:p,height:h}=d;if(i||t(),!p||!h)return;const g=Ke(u),v=Ke(o.clientWidth-(f+p)),x=Ke(o.clientHeight-(u+h)),y=Ke(f),b={rootMargin:-g+"px "+-v+"px "+-x+"px "+-y+"px",threshold:V(0,le(1,m))||1};let w=!0;function C(M){const R=M[0].intersectionRatio;if(R!==m){if(!w)return a();R?a(!1,R):r=setTimeout(()=>{a(!1,1e-7)},1e3)}R===1&&!tr(d,e.getBoundingClientRect())&&a(),w=!1}try{n=new IntersectionObserver(C,{...b,root:o.ownerDocument})}catch{n=new IntersectionObserver(C,b)}n.observe(e)}return a(!0),s}function _s(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:o=!0,ancestorResize:s=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:i=typeof IntersectionObserver=="function",animationFrame:m=!1}=r,d=Vt(e),f=o||s?[...d?Ie(d):[],...Ie(t)]:[];f.forEach(y=>{o&&y.addEventListener("scroll",n,{passive:!0}),s&&y.addEventListener("resize",n)});const u=d&&i?js(d,n):null;let p=-1,h=null;a&&(h=new ResizeObserver(y=>{let[E]=y;E&&E.target===d&&h&&(h.unobserve(t),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var b;(b=h)==null||b.observe(t)})),n()}),d&&!m&&h.observe(d),h.observe(t));let g,v=m?me(e):null;m&&x();function x(){const y=me(e);v&&!tr(v,y)&&n(),v=y,g=requestAnimationFrame(x)}return n(),()=>{var y;f.forEach(E=>{o&&E.removeEventListener("scroll",n),s&&E.removeEventListener("resize",n)}),u==null||u(),(y=h)==null||y.disconnect(),h=null,m&&cancelAnimationFrame(g)}}const Ts=ds,Is=fs,Ds=cs,Fs=ms,Ls=ls,En=as,ks=ps,$s=(e,t,n)=>{const r=new Map,o={platform:Os,...n},s={...o.platform,_c:r};return is(e,t,{...o,platform:s})};var Ze=typeof document<"u"?c.useLayoutEffect:c.useEffect;function st(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,o;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!st(e[r],t[r]))return!1;return!0}if(o=Object.keys(e),n=o.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,o[r]))return!1;for(r=n;r--!==0;){const s=o[r];if(!(s==="_owner"&&e.$$typeof)&&!st(e[s],t[s]))return!1}return!0}return e!==e&&t!==t}function nr(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Rn(e,t){const n=nr(e);return Math.round(t*n)/n}function Et(e){const t=c.useRef(e);return Ze(()=>{t.current=e}),t}function Bs(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:o,elements:{reference:s,floating:a}={},transform:i=!0,whileElementsMounted:m,open:d}=e,[f,u]=c.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[p,h]=c.useState(r);st(p,r)||h(r);const[g,v]=c.useState(null),[x,y]=c.useState(null),E=c.useCallback(A=>{A!==M.current&&(M.current=A,v(A))},[]),b=c.useCallback(A=>{A!==R.current&&(R.current=A,y(A))},[]),w=s||g,C=a||x,M=c.useRef(null),R=c.useRef(null),N=c.useRef(f),_=m!=null,O=Et(m),D=Et(o),F=Et(d),I=c.useCallback(()=>{if(!M.current||!R.current)return;const A={placement:t,strategy:n,middleware:p};D.current&&(A.platform=D.current),$s(M.current,R.current,A).then(S=>{const j={...S,isPositioned:F.current!==!1};L.current&&!st(N.current,j)&&(N.current=j,Tn.flushSync(()=>{u(j)}))})},[p,t,n,D,F]);Ze(()=>{d===!1&&N.current.isPositioned&&(N.current.isPositioned=!1,u(A=>({...A,isPositioned:!1})))},[d]);const L=c.useRef(!1);Ze(()=>(L.current=!0,()=>{L.current=!1}),[]),Ze(()=>{if(w&&(M.current=w),C&&(R.current=C),w&&C){if(O.current)return O.current(w,C,I);I()}},[w,C,I,O,_]);const k=c.useMemo(()=>({reference:M,floating:R,setReference:E,setFloating:b}),[E,b]),T=c.useMemo(()=>({reference:w,floating:C}),[w,C]),$=c.useMemo(()=>{const A={position:n,left:0,top:0};if(!T.floating)return A;const S=Rn(T.floating,f.x),j=Rn(T.floating,f.y);return i?{...A,transform:"translate("+S+"px, "+j+"px)",...nr(T.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:S,top:j}},[n,i,T.floating,f.x,f.y]);return c.useMemo(()=>({...f,update:I,refs:k,elements:T,floatingStyles:$}),[f,I,k,T,$])}const Ws=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:o}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?En({element:r.current,padding:o}).fn(n):{}:r?En({element:r,padding:o}).fn(n):{}}}},Us=(e,t)=>({...Ts(e),options:[e,t]}),Hs=(e,t)=>({...Is(e),options:[e,t]}),Vs=(e,t)=>({...ks(e),options:[e,t]}),Ks=(e,t)=>({...Ds(e),options:[e,t]}),Gs=(e,t)=>({...Fs(e),options:[e,t]}),zs=(e,t)=>({...Ls(e),options:[e,t]}),qs=(e,t)=>({...Ws(e),options:[e,t]});var Ys="Arrow",rr=c.forwardRef((e,t)=>{const{children:n,width:r=10,height:o=5,...s}=e;return l.jsx(W.svg,{...s,ref:t,width:r,height:o,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:l.jsx("polygon",{points:"0,0 30,0 15,10"})})});rr.displayName=Ys;var Xs=rr;function Zs(e){const[t,n]=c.useState(void 0);return ce(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(o=>{if(!Array.isArray(o)||!o.length)return;const s=o[0];let a,i;if("borderBoxSize"in s){const m=s.borderBoxSize,d=Array.isArray(m)?m[0]:m;a=d.inlineSize,i=d.blockSize}else a=e.offsetWidth,i=e.offsetHeight;n({width:a,height:i})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var Gt="Popper",[or,sr]=Le(Gt),[Qs,ir]=or(Gt),ar=e=>{const{__scopePopper:t,children:n}=e,[r,o]=c.useState(null);return l.jsx(Qs,{scope:t,anchor:r,onAnchorChange:o,children:n})};ar.displayName=Gt;var cr="PopperAnchor",lr=c.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...o}=e,s=ir(cr,n),a=c.useRef(null),i=H(t,a);return c.useEffect(()=>{s.onAnchorChange((r==null?void 0:r.current)||a.current)}),r?null:l.jsx(W.div,{...o,ref:i})});lr.displayName=cr;var zt="PopperContent",[Js,ei]=or(zt),ur=c.forwardRef((e,t)=>{var ne,Ae,G,Pe,an,cn;const{__scopePopper:n,side:r="bottom",sideOffset:o=0,align:s="center",alignOffset:a=0,arrowPadding:i=0,avoidCollisions:m=!0,collisionBoundary:d=[],collisionPadding:f=0,sticky:u="partial",hideWhenDetached:p=!1,updatePositionStrategy:h="optimized",onPlaced:g,...v}=e,x=ir(zt,n),[y,E]=c.useState(null),b=H(t,Oe=>E(Oe)),[w,C]=c.useState(null),M=Zs(w),R=(M==null?void 0:M.width)??0,N=(M==null?void 0:M.height)??0,_=r+(s!=="center"?"-"+s:""),O=typeof f=="number"?f:{top:0,right:0,bottom:0,left:0,...f},D=Array.isArray(d)?d:[d],F=D.length>0,I={padding:O,boundary:D.filter(ni),altBoundary:F},{refs:L,floatingStyles:k,placement:T,isPositioned:$,middlewareData:A}=Bs({strategy:"fixed",placement:_,whileElementsMounted:(...Oe)=>_s(...Oe,{animationFrame:h==="always"}),elements:{reference:x.anchor},middleware:[Us({mainAxis:o+N,alignmentAxis:a}),m&&Hs({mainAxis:!0,crossAxis:!1,limiter:u==="partial"?Vs():void 0,...I}),m&&Ks({...I}),Gs({...I,apply:({elements:Oe,rects:ln,availableWidth:uo,availableHeight:fo})=>{const{width:po,height:mo}=ln.reference,Ve=Oe.floating.style;Ve.setProperty("--radix-popper-available-width",`${uo}px`),Ve.setProperty("--radix-popper-available-height",`${fo}px`),Ve.setProperty("--radix-popper-anchor-width",`${po}px`),Ve.setProperty("--radix-popper-anchor-height",`${mo}px`)}}),w&&qs({element:w,padding:i}),ri({arrowWidth:R,arrowHeight:N}),p&&zs({strategy:"referenceHidden",...I})]}),[S,j]=pr(T),B=oe(g);ce(()=>{$&&(B==null||B())},[$,B]);const X=(ne=A.arrow)==null?void 0:ne.x,Me=(Ae=A.arrow)==null?void 0:Ae.y,Ne=((G=A.arrow)==null?void 0:G.centerOffset)!==0,[He,de]=c.useState();return ce(()=>{y&&de(window.getComputedStyle(y).zIndex)},[y]),l.jsx("div",{ref:L.setFloating,"data-radix-popper-content-wrapper":"",style:{...k,transform:$?k.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:He,"--radix-popper-transform-origin":[(Pe=A.transformOrigin)==null?void 0:Pe.x,(an=A.transformOrigin)==null?void 0:an.y].join(" "),...((cn=A.hide)==null?void 0:cn.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:l.jsx(Js,{scope:n,placedSide:S,onArrowChange:C,arrowX:X,arrowY:Me,shouldHideArrow:Ne,children:l.jsx(W.div,{"data-side":S,"data-align":j,...v,ref:b,style:{...v.style,animation:$?void 0:"none"}})})})});ur.displayName=zt;var dr="PopperArrow",ti={top:"bottom",right:"left",bottom:"top",left:"right"},fr=c.forwardRef(function(t,n){const{__scopePopper:r,...o}=t,s=ei(dr,r),a=ti[s.placedSide];return l.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:l.jsx(Xs,{...o,ref:n,style:{...o.style,display:"block"}})})});fr.displayName=dr;function ni(e){return e!==null}var ri=e=>({name:"transformOrigin",options:e,fn(t){var x,y,E;const{placement:n,rects:r,middlewareData:o}=t,a=((x=o.arrow)==null?void 0:x.centerOffset)!==0,i=a?0:e.arrowWidth,m=a?0:e.arrowHeight,[d,f]=pr(n),u={start:"0%",center:"50%",end:"100%"}[f],p=(((y=o.arrow)==null?void 0:y.x)??0)+i/2,h=(((E=o.arrow)==null?void 0:E.y)??0)+m/2;let g="",v="";return d==="bottom"?(g=a?u:`${p}px`,v=`${-m}px`):d==="top"?(g=a?u:`${p}px`,v=`${r.floating.height+m}px`):d==="right"?(g=`${-m}px`,v=a?u:`${h}px`):d==="left"&&(g=`${r.floating.width+m}px`,v=a?u:`${h}px`),{data:{x:g,y:v}}}});function pr(e){const[t,n="center"]=e.split("-");return[t,n]}var oi=ar,si=lr,ii=ur,ai=fr,ci="Portal",mr=c.forwardRef((e,t)=>{var i;const{container:n,...r}=e,[o,s]=c.useState(!1);ce(()=>s(!0),[]);const a=n||o&&((i=globalThis==null?void 0:globalThis.document)==null?void 0:i.body);return a?ho.createPortal(l.jsx(W.div,{...r,ref:t}),a):null});mr.displayName=ci;function li(e,t){return c.useReducer((n,r)=>t[n][r]??n,e)}var $e=e=>{const{present:t,children:n}=e,r=ui(t),o=typeof n=="function"?n({present:r.isPresent}):c.Children.only(n),s=H(r.ref,di(o));return typeof n=="function"||r.isPresent?c.cloneElement(o,{ref:s}):null};$e.displayName="Presence";function ui(e){const[t,n]=c.useState(),r=c.useRef(null),o=c.useRef(e),s=c.useRef("none"),a=e?"mounted":"unmounted",[i,m]=li(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return c.useEffect(()=>{const d=Ge(r.current);s.current=i==="mounted"?d:"none"},[i]),ce(()=>{const d=r.current,f=o.current;if(f!==e){const p=s.current,h=Ge(d);e?m("MOUNT"):h==="none"||(d==null?void 0:d.display)==="none"?m("UNMOUNT"):m(f&&p!==h?"ANIMATION_OUT":"UNMOUNT"),o.current=e}},[e,m]),ce(()=>{if(t){let d;const f=t.ownerDocument.defaultView??window,u=h=>{const v=Ge(r.current).includes(h.animationName);if(h.target===t&&v&&(m("ANIMATION_END"),!o.current)){const x=t.style.animationFillMode;t.style.animationFillMode="forwards",d=f.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=x)})}},p=h=>{h.target===t&&(s.current=Ge(r.current))};return t.addEventListener("animationstart",p),t.addEventListener("animationcancel",u),t.addEventListener("animationend",u),()=>{f.clearTimeout(d),t.removeEventListener("animationstart",p),t.removeEventListener("animationcancel",u),t.removeEventListener("animationend",u)}}else m("ANIMATION_END")},[t,m]),{isPresent:["mounted","unmountSuspended"].includes(i),ref:c.useCallback(d=>{r.current=d?getComputedStyle(d):null,n(d)},[])}}function Ge(e){return(e==null?void 0:e.animationName)||"none"}function di(e){var r,o;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(o=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:o.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var Rt="rovingFocusGroup.onEntryFocus",fi={bubbles:!1,cancelable:!0},Be="RovingFocusGroup",[It,hr,pi]=Bn(Be),[mi,vr]=Le(Be,[pi]),[hi,vi]=mi(Be),gr=c.forwardRef((e,t)=>l.jsx(It.Provider,{scope:e.__scopeRovingFocusGroup,children:l.jsx(It.Slot,{scope:e.__scopeRovingFocusGroup,children:l.jsx(gi,{...e,ref:t})})}));gr.displayName=Be;var gi=c.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:o=!1,dir:s,currentTabStopId:a,defaultCurrentTabStopId:i,onCurrentTabStopIdChange:m,onEntryFocus:d,preventScrollOnEntryFocus:f=!1,...u}=e,p=c.useRef(null),h=H(t,p),g=Wn(s),[v,x]=kn({prop:a,defaultProp:i??null,onChange:m,caller:Be}),[y,E]=c.useState(!1),b=oe(d),w=hr(n),C=c.useRef(!1),[M,R]=c.useState(0);return c.useEffect(()=>{const N=p.current;if(N)return N.addEventListener(Rt,b),()=>N.removeEventListener(Rt,b)},[b]),l.jsx(hi,{scope:n,orientation:r,dir:g,loop:o,currentTabStopId:v,onItemFocus:c.useCallback(N=>x(N),[x]),onItemShiftTab:c.useCallback(()=>E(!0),[]),onFocusableItemAdd:c.useCallback(()=>R(N=>N+1),[]),onFocusableItemRemove:c.useCallback(()=>R(N=>N-1),[]),children:l.jsx(W.div,{tabIndex:y||M===0?-1:0,"data-orientation":r,...u,ref:h,style:{outline:"none",...e.style},onMouseDown:P(e.onMouseDown,()=>{C.current=!0}),onFocus:P(e.onFocus,N=>{const _=!C.current;if(N.target===N.currentTarget&&_&&!y){const O=new CustomEvent(Rt,fi);if(N.currentTarget.dispatchEvent(O),!O.defaultPrevented){const D=w().filter(T=>T.focusable),F=D.find(T=>T.active),I=D.find(T=>T.id===v),k=[F,I,...D].filter(Boolean).map(T=>T.ref.current);wr(k,f)}}C.current=!1}),onBlur:P(e.onBlur,()=>E(!1))})})}),xr="RovingFocusGroupItem",yr=c.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:o=!1,tabStopId:s,children:a,...i}=e,m=Ot(),d=s||m,f=vi(xr,n),u=f.currentTabStopId===d,p=hr(n),{onFocusableItemAdd:h,onFocusableItemRemove:g,currentTabStopId:v}=f;return c.useEffect(()=>{if(r)return h(),()=>g()},[r,h,g]),l.jsx(It.ItemSlot,{scope:n,id:d,focusable:r,active:o,children:l.jsx(W.span,{tabIndex:u?0:-1,"data-orientation":f.orientation,...i,ref:t,onMouseDown:P(e.onMouseDown,x=>{r?f.onItemFocus(d):x.preventDefault()}),onFocus:P(e.onFocus,()=>f.onItemFocus(d)),onKeyDown:P(e.onKeyDown,x=>{if(x.key==="Tab"&&x.shiftKey){f.onItemShiftTab();return}if(x.target!==x.currentTarget)return;const y=wi(x,f.orientation,f.dir);if(y!==void 0){if(x.metaKey||x.ctrlKey||x.altKey||x.shiftKey)return;x.preventDefault();let b=p().filter(w=>w.focusable).map(w=>w.ref.current);if(y==="last")b.reverse();else if(y==="prev"||y==="next"){y==="prev"&&b.reverse();const w=b.indexOf(x.currentTarget);b=f.loop?bi(b,w+1):b.slice(w+1)}setTimeout(()=>wr(b))}}),children:typeof a=="function"?a({isCurrentTabStop:u,hasTabStop:v!=null}):a})})});yr.displayName=xr;var xi={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function yi(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function wi(e,t,n){const r=yi(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return xi[r]}function wr(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function bi(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var Ci=gr,Ei=yr,Ri=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},xe=new WeakMap,ze=new WeakMap,qe={},St=0,br=function(e){return e&&(e.host||br(e.parentNode))},Si=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=br(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},Mi=function(e,t,n,r){var o=Si(t,Array.isArray(e)?e:[e]);qe[n]||(qe[n]=new WeakMap);var s=qe[n],a=[],i=new Set,m=new Set(o),d=function(u){!u||i.has(u)||(i.add(u),d(u.parentNode))};o.forEach(d);var f=function(u){!u||m.has(u)||Array.prototype.forEach.call(u.children,function(p){if(i.has(p))f(p);else try{var h=p.getAttribute(r),g=h!==null&&h!=="false",v=(xe.get(p)||0)+1,x=(s.get(p)||0)+1;xe.set(p,v),s.set(p,x),a.push(p),v===1&&g&&ze.set(p,!0),x===1&&p.setAttribute(n,"true"),g||p.setAttribute(r,"true")}catch(y){console.error("aria-hidden: cannot operate on ",p,y)}})};return f(t),i.clear(),St++,function(){a.forEach(function(u){var p=xe.get(u)-1,h=s.get(u)-1;xe.set(u,p),s.set(u,h),p||(ze.has(u)||u.removeAttribute(r),ze.delete(u)),h||u.removeAttribute(n)}),St--,St||(xe=new WeakMap,xe=new WeakMap,ze=new WeakMap,qe={})}},Ni=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),o=Ri(e);return o?(r.push.apply(r,Array.from(o.querySelectorAll("[aria-live], script"))),Mi(r,o,n,"aria-hidden")):function(){return null}},Z=function(){return Z=Object.assign||function(t){for(var n,r=1,o=arguments.length;r<o;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},Z.apply(this,arguments)};function Cr(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n}function Ai(e,t,n){if(n||arguments.length===2)for(var r=0,o=t.length,s;r<o;r++)(s||!(r in t))&&(s||(s=Array.prototype.slice.call(t,0,r)),s[r]=t[r]);return e.concat(s||Array.prototype.slice.call(t))}var Qe="right-scroll-bar-position",Je="width-before-scroll-bar",Pi="with-scroll-bars-hidden",Oi="--removed-body-scroll-bar-size";function Mt(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function ji(e,t){var n=c.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var o=n.value;o!==r&&(n.value=r,n.callback(r,o))}}}})[0];return n.callback=t,n.facade}var _i=typeof window<"u"?c.useLayoutEffect:c.useEffect,Sn=new WeakMap;function Ti(e,t){var n=ji(null,function(r){return e.forEach(function(o){return Mt(o,r)})});return _i(function(){var r=Sn.get(n);if(r){var o=new Set(r),s=new Set(e),a=n.current;o.forEach(function(i){s.has(i)||Mt(i,null)}),s.forEach(function(i){o.has(i)||Mt(i,a)})}Sn.set(n,e)},[e]),n}function Ii(e){return e}function Di(e,t){t===void 0&&(t=Ii);var n=[],r=!1,o={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(s){var a=t(s,r);return n.push(a),function(){n=n.filter(function(i){return i!==a})}},assignSyncMedium:function(s){for(r=!0;n.length;){var a=n;n=[],a.forEach(s)}n={push:function(i){return s(i)},filter:function(){return n}}},assignMedium:function(s){r=!0;var a=[];if(n.length){var i=n;n=[],i.forEach(s),a=n}var m=function(){var f=a;a=[],f.forEach(s)},d=function(){return Promise.resolve().then(m)};d(),n={push:function(f){a.push(f),d()},filter:function(f){return a=a.filter(f),n}}}};return o}function Fi(e){e===void 0&&(e={});var t=Di(null);return t.options=Z({async:!0,ssr:!1},e),t}var Er=function(e){var t=e.sideCar,n=Cr(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return c.createElement(r,Z({},n))};Er.isSideCarExport=!0;function Li(e,t){return e.useMedium(t),Er}var Rr=Fi(),Nt=function(){},ft=c.forwardRef(function(e,t){var n=c.useRef(null),r=c.useState({onScrollCapture:Nt,onWheelCapture:Nt,onTouchMoveCapture:Nt}),o=r[0],s=r[1],a=e.forwardProps,i=e.children,m=e.className,d=e.removeScrollBar,f=e.enabled,u=e.shards,p=e.sideCar,h=e.noRelative,g=e.noIsolation,v=e.inert,x=e.allowPinchZoom,y=e.as,E=y===void 0?"div":y,b=e.gapMode,w=Cr(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),C=p,M=Ti([n,t]),R=Z(Z({},w),o);return c.createElement(c.Fragment,null,f&&c.createElement(C,{sideCar:Rr,removeScrollBar:d,shards:u,noRelative:h,noIsolation:g,inert:v,setCallbacks:s,allowPinchZoom:!!x,lockRef:n,gapMode:b}),a?c.cloneElement(c.Children.only(i),Z(Z({},R),{ref:M})):c.createElement(E,Z({},R,{className:m,ref:M}),i))});ft.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};ft.classNames={fullWidth:Je,zeroRight:Qe};var ki=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function $i(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=ki();return t&&e.setAttribute("nonce",t),e}function Bi(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function Wi(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var Ui=function(){var e=0,t=null;return{add:function(n){e==0&&(t=$i())&&(Bi(t,n),Wi(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},Hi=function(){var e=Ui();return function(t,n){c.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},Sr=function(){var e=Hi(),t=function(n){var r=n.styles,o=n.dynamic;return e(r,o),null};return t},Vi={left:0,top:0,right:0,gap:0},At=function(e){return parseInt(e||"",10)||0},Ki=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],o=t[e==="padding"?"paddingRight":"marginRight"];return[At(n),At(r),At(o)]},Gi=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return Vi;var t=Ki(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},zi=Sr(),Ce="data-scroll-locked",qi=function(e,t,n,r){var o=e.left,s=e.top,a=e.right,i=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(Pi,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(i,"px ").concat(r,`;
  }
  body[`).concat(Ce,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(o,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(a,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(i,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(i,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Qe,` {
    right: `).concat(i,"px ").concat(r,`;
  }
  
  .`).concat(Je,` {
    margin-right: `).concat(i,"px ").concat(r,`;
  }
  
  .`).concat(Qe," .").concat(Qe,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Je," .").concat(Je,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Ce,`] {
    `).concat(Oi,": ").concat(i,`px;
  }
`)},Mn=function(){var e=parseInt(document.body.getAttribute(Ce)||"0",10);return isFinite(e)?e:0},Yi=function(){c.useEffect(function(){return document.body.setAttribute(Ce,(Mn()+1).toString()),function(){var e=Mn()-1;e<=0?document.body.removeAttribute(Ce):document.body.setAttribute(Ce,e.toString())}},[])},Xi=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,o=r===void 0?"margin":r;Yi();var s=c.useMemo(function(){return Gi(o)},[o]);return c.createElement(zi,{styles:qi(s,!t,o,n?"":"!important")})},Dt=!1;if(typeof window<"u")try{var Ye=Object.defineProperty({},"passive",{get:function(){return Dt=!0,!0}});window.addEventListener("test",Ye,Ye),window.removeEventListener("test",Ye,Ye)}catch{Dt=!1}var ye=Dt?{passive:!1}:!1,Zi=function(e){return e.tagName==="TEXTAREA"},Mr=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!Zi(e)&&n[t]==="visible")},Qi=function(e){return Mr(e,"overflowY")},Ji=function(e){return Mr(e,"overflowX")},Nn=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var o=Nr(e,r);if(o){var s=Ar(e,r),a=s[1],i=s[2];if(a>i)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},ea=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},ta=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},Nr=function(e,t){return e==="v"?Qi(t):Ji(t)},Ar=function(e,t){return e==="v"?ea(t):ta(t)},na=function(e,t){return e==="h"&&t==="rtl"?-1:1},ra=function(e,t,n,r,o){var s=na(e,window.getComputedStyle(t).direction),a=s*r,i=n.target,m=t.contains(i),d=!1,f=a>0,u=0,p=0;do{var h=Ar(e,i),g=h[0],v=h[1],x=h[2],y=v-x-s*g;(g||y)&&Nr(e,i)&&(u+=y,p+=g),i=i.parentNode.host||i.parentNode}while(!m&&i!==document.body||m&&(t.contains(i)||t===i));return(f&&Math.abs(u)<1||!f&&Math.abs(p)<1)&&(d=!0),d},Xe=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},An=function(e){return[e.deltaX,e.deltaY]},Pn=function(e){return e&&"current"in e?e.current:e},oa=function(e,t){return e[0]===t[0]&&e[1]===t[1]},sa=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},ia=0,we=[];function aa(e){var t=c.useRef([]),n=c.useRef([0,0]),r=c.useRef(),o=c.useState(ia++)[0],s=c.useState(Sr)[0],a=c.useRef(e);c.useEffect(function(){a.current=e},[e]),c.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(o));var v=Ai([e.lockRef.current],(e.shards||[]).map(Pn),!0).filter(Boolean);return v.forEach(function(x){return x.classList.add("allow-interactivity-".concat(o))}),function(){document.body.classList.remove("block-interactivity-".concat(o)),v.forEach(function(x){return x.classList.remove("allow-interactivity-".concat(o))})}}},[e.inert,e.lockRef.current,e.shards]);var i=c.useCallback(function(v,x){if("touches"in v&&v.touches.length===2||v.type==="wheel"&&v.ctrlKey)return!a.current.allowPinchZoom;var y=Xe(v),E=n.current,b="deltaX"in v?v.deltaX:E[0]-y[0],w="deltaY"in v?v.deltaY:E[1]-y[1],C,M=v.target,R=Math.abs(b)>Math.abs(w)?"h":"v";if("touches"in v&&R==="h"&&M.type==="range")return!1;var N=Nn(R,M);if(!N)return!0;if(N?C=R:(C=R==="v"?"h":"v",N=Nn(R,M)),!N)return!1;if(!r.current&&"changedTouches"in v&&(b||w)&&(r.current=C),!C)return!0;var _=r.current||C;return ra(_,x,v,_==="h"?b:w)},[]),m=c.useCallback(function(v){var x=v;if(!(!we.length||we[we.length-1]!==s)){var y="deltaY"in x?An(x):Xe(x),E=t.current.filter(function(C){return C.name===x.type&&(C.target===x.target||x.target===C.shadowParent)&&oa(C.delta,y)})[0];if(E&&E.should){x.cancelable&&x.preventDefault();return}if(!E){var b=(a.current.shards||[]).map(Pn).filter(Boolean).filter(function(C){return C.contains(x.target)}),w=b.length>0?i(x,b[0]):!a.current.noIsolation;w&&x.cancelable&&x.preventDefault()}}},[]),d=c.useCallback(function(v,x,y,E){var b={name:v,delta:x,target:y,should:E,shadowParent:ca(y)};t.current.push(b),setTimeout(function(){t.current=t.current.filter(function(w){return w!==b})},1)},[]),f=c.useCallback(function(v){n.current=Xe(v),r.current=void 0},[]),u=c.useCallback(function(v){d(v.type,An(v),v.target,i(v,e.lockRef.current))},[]),p=c.useCallback(function(v){d(v.type,Xe(v),v.target,i(v,e.lockRef.current))},[]);c.useEffect(function(){return we.push(s),e.setCallbacks({onScrollCapture:u,onWheelCapture:u,onTouchMoveCapture:p}),document.addEventListener("wheel",m,ye),document.addEventListener("touchmove",m,ye),document.addEventListener("touchstart",f,ye),function(){we=we.filter(function(v){return v!==s}),document.removeEventListener("wheel",m,ye),document.removeEventListener("touchmove",m,ye),document.removeEventListener("touchstart",f,ye)}},[]);var h=e.removeScrollBar,g=e.inert;return c.createElement(c.Fragment,null,g?c.createElement(s,{styles:sa(o)}):null,h?c.createElement(Xi,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function ca(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const la=Li(Rr,aa);var Pr=c.forwardRef(function(e,t){return c.createElement(ft,Z({},e,{ref:t,sideCar:la}))});Pr.classNames=ft.classNames;var Ft=["Enter"," "],ua=["ArrowDown","PageUp","Home"],Or=["ArrowUp","PageDown","End"],da=[...ua,...Or],fa={ltr:[...Ft,"ArrowRight"],rtl:[...Ft,"ArrowLeft"]},pa={ltr:["ArrowLeft"],rtl:["ArrowRight"]},We="Menu",[De,ma,ha]=Bn(We),[ve,jr]=Le(We,[ha,sr,vr]),pt=sr(),_r=vr(),[va,ge]=ve(We),[ga,Ue]=ve(We),Tr=e=>{const{__scopeMenu:t,open:n=!1,children:r,dir:o,onOpenChange:s,modal:a=!0}=e,i=pt(t),[m,d]=c.useState(null),f=c.useRef(!1),u=oe(s),p=Wn(o);return c.useEffect(()=>{const h=()=>{f.current=!0,document.addEventListener("pointerdown",g,{capture:!0,once:!0}),document.addEventListener("pointermove",g,{capture:!0,once:!0})},g=()=>f.current=!1;return document.addEventListener("keydown",h,{capture:!0}),()=>{document.removeEventListener("keydown",h,{capture:!0}),document.removeEventListener("pointerdown",g,{capture:!0}),document.removeEventListener("pointermove",g,{capture:!0})}},[]),l.jsx(oi,{...i,children:l.jsx(va,{scope:t,open:n,onOpenChange:u,content:m,onContentChange:d,children:l.jsx(ga,{scope:t,onClose:c.useCallback(()=>u(!1),[u]),isUsingKeyboardRef:f,dir:p,modal:a,children:r})})})};Tr.displayName=We;var xa="MenuAnchor",qt=c.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,o=pt(n);return l.jsx(si,{...o,...r,ref:t})});qt.displayName=xa;var Yt="MenuPortal",[ya,Ir]=ve(Yt,{forceMount:void 0}),Dr=e=>{const{__scopeMenu:t,forceMount:n,children:r,container:o}=e,s=ge(Yt,t);return l.jsx(ya,{scope:t,forceMount:n,children:l.jsx($e,{present:n||s.open,children:l.jsx(mr,{asChild:!0,container:o,children:r})})})};Dr.displayName=Yt;var z="MenuContent",[wa,Xt]=ve(z),Fr=c.forwardRef((e,t)=>{const n=Ir(z,e.__scopeMenu),{forceMount:r=n.forceMount,...o}=e,s=ge(z,e.__scopeMenu),a=Ue(z,e.__scopeMenu);return l.jsx(De.Provider,{scope:e.__scopeMenu,children:l.jsx($e,{present:r||s.open,children:l.jsx(De.Slot,{scope:e.__scopeMenu,children:a.modal?l.jsx(ba,{...o,ref:t}):l.jsx(Ca,{...o,ref:t})})})})}),ba=c.forwardRef((e,t)=>{const n=ge(z,e.__scopeMenu),r=c.useRef(null),o=H(t,r);return c.useEffect(()=>{const s=r.current;if(s)return Ni(s)},[]),l.jsx(Zt,{...e,ref:o,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:P(e.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),Ca=c.forwardRef((e,t)=>{const n=ge(z,e.__scopeMenu);return l.jsx(Zt,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),Ea=et("MenuContent.ScrollLock"),Zt=c.forwardRef((e,t)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:o,onOpenAutoFocus:s,onCloseAutoFocus:a,disableOutsidePointerEvents:i,onEntryFocus:m,onEscapeKeyDown:d,onPointerDownOutside:f,onFocusOutside:u,onInteractOutside:p,onDismiss:h,disableOutsideScroll:g,...v}=e,x=ge(z,n),y=Ue(z,n),E=pt(n),b=_r(n),w=ma(n),[C,M]=c.useState(null),R=c.useRef(null),N=H(t,R,x.onContentChange),_=c.useRef(0),O=c.useRef(""),D=c.useRef(0),F=c.useRef(null),I=c.useRef("right"),L=c.useRef(0),k=g?Pr:c.Fragment,T=g?{as:Ea,allowPinchZoom:!0}:void 0,$=S=>{var ne,Ae;const j=O.current+S,B=w().filter(G=>!G.disabled),X=document.activeElement,Me=(ne=B.find(G=>G.ref.current===X))==null?void 0:ne.textValue,Ne=B.map(G=>G.textValue),He=Da(Ne,j,Me),de=(Ae=B.find(G=>G.textValue===He))==null?void 0:Ae.ref.current;(function G(Pe){O.current=Pe,window.clearTimeout(_.current),Pe!==""&&(_.current=window.setTimeout(()=>G(""),1e3))})(j),de&&setTimeout(()=>de.focus())};c.useEffect(()=>()=>window.clearTimeout(_.current),[]),Uo();const A=c.useCallback(S=>{var B,X;return I.current===((B=F.current)==null?void 0:B.side)&&La(S,(X=F.current)==null?void 0:X.area)},[]);return l.jsx(wa,{scope:n,searchRef:O,onItemEnter:c.useCallback(S=>{A(S)&&S.preventDefault()},[A]),onItemLeave:c.useCallback(S=>{var j;A(S)||((j=R.current)==null||j.focus(),M(null))},[A]),onTriggerLeave:c.useCallback(S=>{A(S)&&S.preventDefault()},[A]),pointerGraceTimerRef:D,onPointerGraceIntentChange:c.useCallback(S=>{F.current=S},[]),children:l.jsx(k,{...T,children:l.jsx(Kn,{asChild:!0,trapped:o,onMountAutoFocus:P(s,S=>{var j;S.preventDefault(),(j=R.current)==null||j.focus({preventScroll:!0})}),onUnmountAutoFocus:a,children:l.jsx(Hn,{asChild:!0,disableOutsidePointerEvents:i,onEscapeKeyDown:d,onPointerDownOutside:f,onFocusOutside:u,onInteractOutside:p,onDismiss:h,children:l.jsx(Ci,{asChild:!0,...b,dir:y.dir,orientation:"vertical",loop:r,currentTabStopId:C,onCurrentTabStopIdChange:M,onEntryFocus:P(m,S=>{y.isUsingKeyboardRef.current||S.preventDefault()}),preventScrollOnEntryFocus:!0,children:l.jsx(ii,{role:"menu","aria-orientation":"vertical","data-state":Qr(x.open),"data-radix-menu-content":"",dir:y.dir,...E,...v,ref:N,style:{outline:"none",...v.style},onKeyDown:P(v.onKeyDown,S=>{const B=S.target.closest("[data-radix-menu-content]")===S.currentTarget,X=S.ctrlKey||S.altKey||S.metaKey,Me=S.key.length===1;B&&(S.key==="Tab"&&S.preventDefault(),!X&&Me&&$(S.key));const Ne=R.current;if(S.target!==Ne||!da.includes(S.key))return;S.preventDefault();const de=w().filter(ne=>!ne.disabled).map(ne=>ne.ref.current);Or.includes(S.key)&&de.reverse(),Ta(de)}),onBlur:P(e.onBlur,S=>{S.currentTarget.contains(S.target)||(window.clearTimeout(_.current),O.current="")}),onPointerMove:P(e.onPointerMove,Fe(S=>{const j=S.target,B=L.current!==S.clientX;if(S.currentTarget.contains(j)&&B){const X=S.clientX>L.current?"right":"left";I.current=X,L.current=S.clientX}}))})})})})})})});Fr.displayName=z;var Ra="MenuGroup",Qt=c.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return l.jsx(W.div,{role:"group",...r,ref:t})});Qt.displayName=Ra;var Sa="MenuLabel",Lr=c.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return l.jsx(W.div,{...r,ref:t})});Lr.displayName=Sa;var it="MenuItem",On="menu.itemSelect",mt=c.forwardRef((e,t)=>{const{disabled:n=!1,onSelect:r,...o}=e,s=c.useRef(null),a=Ue(it,e.__scopeMenu),i=Xt(it,e.__scopeMenu),m=H(t,s),d=c.useRef(!1),f=()=>{const u=s.current;if(!n&&u){const p=new CustomEvent(On,{bubbles:!0,cancelable:!0});u.addEventListener(On,h=>r==null?void 0:r(h),{once:!0}),$n(u,p),p.defaultPrevented?d.current=!1:a.onClose()}};return l.jsx(kr,{...o,ref:m,disabled:n,onClick:P(e.onClick,f),onPointerDown:u=>{var p;(p=e.onPointerDown)==null||p.call(e,u),d.current=!0},onPointerUp:P(e.onPointerUp,u=>{var p;d.current||(p=u.currentTarget)==null||p.click()}),onKeyDown:P(e.onKeyDown,u=>{const p=i.searchRef.current!=="";n||p&&u.key===" "||Ft.includes(u.key)&&(u.currentTarget.click(),u.preventDefault())})})});mt.displayName=it;var kr=c.forwardRef((e,t)=>{const{__scopeMenu:n,disabled:r=!1,textValue:o,...s}=e,a=Xt(it,n),i=_r(n),m=c.useRef(null),d=H(t,m),[f,u]=c.useState(!1),[p,h]=c.useState("");return c.useEffect(()=>{const g=m.current;g&&h((g.textContent??"").trim())},[s.children]),l.jsx(De.ItemSlot,{scope:n,disabled:r,textValue:o??p,children:l.jsx(Ei,{asChild:!0,...i,focusable:!r,children:l.jsx(W.div,{role:"menuitem","data-highlighted":f?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...s,ref:d,onPointerMove:P(e.onPointerMove,Fe(g=>{r?a.onItemLeave(g):(a.onItemEnter(g),g.defaultPrevented||g.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:P(e.onPointerLeave,Fe(g=>a.onItemLeave(g))),onFocus:P(e.onFocus,()=>u(!0)),onBlur:P(e.onBlur,()=>u(!1))})})})}),Ma="MenuCheckboxItem",$r=c.forwardRef((e,t)=>{const{checked:n=!1,onCheckedChange:r,...o}=e;return l.jsx(Vr,{scope:e.__scopeMenu,checked:n,children:l.jsx(mt,{role:"menuitemcheckbox","aria-checked":at(n)?"mixed":n,...o,ref:t,"data-state":en(n),onSelect:P(o.onSelect,()=>r==null?void 0:r(at(n)?!0:!n),{checkForDefaultPrevented:!1})})})});$r.displayName=Ma;var Br="MenuRadioGroup",[Na,Aa]=ve(Br,{value:void 0,onValueChange:()=>{}}),Wr=c.forwardRef((e,t)=>{const{value:n,onValueChange:r,...o}=e,s=oe(r);return l.jsx(Na,{scope:e.__scopeMenu,value:n,onValueChange:s,children:l.jsx(Qt,{...o,ref:t})})});Wr.displayName=Br;var Ur="MenuRadioItem",Hr=c.forwardRef((e,t)=>{const{value:n,...r}=e,o=Aa(Ur,e.__scopeMenu),s=n===o.value;return l.jsx(Vr,{scope:e.__scopeMenu,checked:s,children:l.jsx(mt,{role:"menuitemradio","aria-checked":s,...r,ref:t,"data-state":en(s),onSelect:P(r.onSelect,()=>{var a;return(a=o.onValueChange)==null?void 0:a.call(o,n)},{checkForDefaultPrevented:!1})})})});Hr.displayName=Ur;var Jt="MenuItemIndicator",[Vr,Pa]=ve(Jt,{checked:!1}),Kr=c.forwardRef((e,t)=>{const{__scopeMenu:n,forceMount:r,...o}=e,s=Pa(Jt,n);return l.jsx($e,{present:r||at(s.checked)||s.checked===!0,children:l.jsx(W.span,{...o,ref:t,"data-state":en(s.checked)})})});Kr.displayName=Jt;var Oa="MenuSeparator",Gr=c.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return l.jsx(W.div,{role:"separator","aria-orientation":"horizontal",...r,ref:t})});Gr.displayName=Oa;var ja="MenuArrow",zr=c.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,o=pt(n);return l.jsx(ai,{...o,...r,ref:t})});zr.displayName=ja;var _a="MenuSub",[Tc,qr]=ve(_a),je="MenuSubTrigger",Yr=c.forwardRef((e,t)=>{const n=ge(je,e.__scopeMenu),r=Ue(je,e.__scopeMenu),o=qr(je,e.__scopeMenu),s=Xt(je,e.__scopeMenu),a=c.useRef(null),{pointerGraceTimerRef:i,onPointerGraceIntentChange:m}=s,d={__scopeMenu:e.__scopeMenu},f=c.useCallback(()=>{a.current&&window.clearTimeout(a.current),a.current=null},[]);return c.useEffect(()=>f,[f]),c.useEffect(()=>{const u=i.current;return()=>{window.clearTimeout(u),m(null)}},[i,m]),l.jsx(qt,{asChild:!0,...d,children:l.jsx(kr,{id:o.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":o.contentId,"data-state":Qr(n.open),...e,ref:_n(t,o.onTriggerChange),onClick:u=>{var p;(p=e.onClick)==null||p.call(e,u),!(e.disabled||u.defaultPrevented)&&(u.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:P(e.onPointerMove,Fe(u=>{s.onItemEnter(u),!u.defaultPrevented&&!e.disabled&&!n.open&&!a.current&&(s.onPointerGraceIntentChange(null),a.current=window.setTimeout(()=>{n.onOpenChange(!0),f()},100))})),onPointerLeave:P(e.onPointerLeave,Fe(u=>{var h,g;f();const p=(h=n.content)==null?void 0:h.getBoundingClientRect();if(p){const v=(g=n.content)==null?void 0:g.dataset.side,x=v==="right",y=x?-5:5,E=p[x?"left":"right"],b=p[x?"right":"left"];s.onPointerGraceIntentChange({area:[{x:u.clientX+y,y:u.clientY},{x:E,y:p.top},{x:b,y:p.top},{x:b,y:p.bottom},{x:E,y:p.bottom}],side:v}),window.clearTimeout(i.current),i.current=window.setTimeout(()=>s.onPointerGraceIntentChange(null),300)}else{if(s.onTriggerLeave(u),u.defaultPrevented)return;s.onPointerGraceIntentChange(null)}})),onKeyDown:P(e.onKeyDown,u=>{var h;const p=s.searchRef.current!=="";e.disabled||p&&u.key===" "||fa[r.dir].includes(u.key)&&(n.onOpenChange(!0),(h=n.content)==null||h.focus(),u.preventDefault())})})})});Yr.displayName=je;var Xr="MenuSubContent",Zr=c.forwardRef((e,t)=>{const n=Ir(z,e.__scopeMenu),{forceMount:r=n.forceMount,...o}=e,s=ge(z,e.__scopeMenu),a=Ue(z,e.__scopeMenu),i=qr(Xr,e.__scopeMenu),m=c.useRef(null),d=H(t,m);return l.jsx(De.Provider,{scope:e.__scopeMenu,children:l.jsx($e,{present:r||s.open,children:l.jsx(De.Slot,{scope:e.__scopeMenu,children:l.jsx(Zt,{id:i.contentId,"aria-labelledby":i.triggerId,...o,ref:d,align:"start",side:a.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:f=>{var u;a.isUsingKeyboardRef.current&&((u=m.current)==null||u.focus()),f.preventDefault()},onCloseAutoFocus:f=>f.preventDefault(),onFocusOutside:P(e.onFocusOutside,f=>{f.target!==i.trigger&&s.onOpenChange(!1)}),onEscapeKeyDown:P(e.onEscapeKeyDown,f=>{a.onClose(),f.preventDefault()}),onKeyDown:P(e.onKeyDown,f=>{var h;const u=f.currentTarget.contains(f.target),p=pa[a.dir].includes(f.key);u&&p&&(s.onOpenChange(!1),(h=i.trigger)==null||h.focus(),f.preventDefault())})})})})})});Zr.displayName=Xr;function Qr(e){return e?"open":"closed"}function at(e){return e==="indeterminate"}function en(e){return at(e)?"indeterminate":e?"checked":"unchecked"}function Ta(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function Ia(e,t){return e.map((n,r)=>e[(t+r)%e.length])}function Da(e,t,n){const o=t.length>1&&Array.from(t).every(d=>d===t[0])?t[0]:t,s=n?e.indexOf(n):-1;let a=Ia(e,Math.max(s,0));o.length===1&&(a=a.filter(d=>d!==n));const m=a.find(d=>d.toLowerCase().startsWith(o.toLowerCase()));return m!==n?m:void 0}function Fa(e,t){const{x:n,y:r}=e;let o=!1;for(let s=0,a=t.length-1;s<t.length;a=s++){const i=t[s],m=t[a],d=i.x,f=i.y,u=m.x,p=m.y;f>r!=p>r&&n<(u-d)*(r-f)/(p-f)+d&&(o=!o)}return o}function La(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return Fa(n,t)}function Fe(e){return t=>t.pointerType==="mouse"?e(t):void 0}var ka=Tr,$a=qt,Ba=Dr,Wa=Fr,Ua=Qt,Ha=Lr,Va=mt,Ka=$r,Ga=Wr,za=Hr,qa=Kr,Ya=Gr,Xa=zr,Za=Yr,Qa=Zr,ht="DropdownMenu",[Ja,Ic]=Le(ht,[jr]),U=jr(),[ec,Jr]=Ja(ht),eo=e=>{const{__scopeDropdownMenu:t,children:n,dir:r,open:o,defaultOpen:s,onOpenChange:a,modal:i=!0}=e,m=U(t),d=c.useRef(null),[f,u]=kn({prop:o,defaultProp:s??!1,onChange:a,caller:ht});return l.jsx(ec,{scope:t,triggerId:Ot(),triggerRef:d,contentId:Ot(),open:f,onOpenChange:u,onOpenToggle:c.useCallback(()=>u(p=>!p),[u]),modal:i,children:l.jsx(ka,{...m,open:f,onOpenChange:u,dir:r,modal:i,children:n})})};eo.displayName=ht;var to="DropdownMenuTrigger",no=c.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...o}=e,s=Jr(to,n),a=U(n);return l.jsx($a,{asChild:!0,...a,children:l.jsx(W.button,{type:"button",id:s.triggerId,"aria-haspopup":"menu","aria-expanded":s.open,"aria-controls":s.open?s.contentId:void 0,"data-state":s.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...o,ref:_n(t,s.triggerRef),onPointerDown:P(e.onPointerDown,i=>{!r&&i.button===0&&i.ctrlKey===!1&&(s.onOpenToggle(),s.open||i.preventDefault())}),onKeyDown:P(e.onKeyDown,i=>{r||(["Enter"," "].includes(i.key)&&s.onOpenToggle(),i.key==="ArrowDown"&&s.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(i.key)&&i.preventDefault())})})})});no.displayName=to;var tc="DropdownMenuPortal",ro=e=>{const{__scopeDropdownMenu:t,...n}=e,r=U(t);return l.jsx(Ba,{...r,...n})};ro.displayName=tc;var oo="DropdownMenuContent",so=c.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=Jr(oo,n),s=U(n),a=c.useRef(!1);return l.jsx(Wa,{id:o.contentId,"aria-labelledby":o.triggerId,...s,...r,ref:t,onCloseAutoFocus:P(e.onCloseAutoFocus,i=>{var m;a.current||(m=o.triggerRef.current)==null||m.focus(),a.current=!1,i.preventDefault()}),onInteractOutside:P(e.onInteractOutside,i=>{const m=i.detail.originalEvent,d=m.button===0&&m.ctrlKey===!0,f=m.button===2||d;(!o.modal||f)&&(a.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});so.displayName=oo;var nc="DropdownMenuGroup",rc=c.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=U(n);return l.jsx(Ua,{...o,...r,ref:t})});rc.displayName=nc;var oc="DropdownMenuLabel",sc=c.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=U(n);return l.jsx(Ha,{...o,...r,ref:t})});sc.displayName=oc;var ic="DropdownMenuItem",io=c.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=U(n);return l.jsx(Va,{...o,...r,ref:t})});io.displayName=ic;var ac="DropdownMenuCheckboxItem",cc=c.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=U(n);return l.jsx(Ka,{...o,...r,ref:t})});cc.displayName=ac;var lc="DropdownMenuRadioGroup",uc=c.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=U(n);return l.jsx(Ga,{...o,...r,ref:t})});uc.displayName=lc;var dc="DropdownMenuRadioItem",fc=c.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=U(n);return l.jsx(za,{...o,...r,ref:t})});fc.displayName=dc;var pc="DropdownMenuItemIndicator",mc=c.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=U(n);return l.jsx(qa,{...o,...r,ref:t})});mc.displayName=pc;var hc="DropdownMenuSeparator",ao=c.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=U(n);return l.jsx(Ya,{...o,...r,ref:t})});ao.displayName=hc;var vc="DropdownMenuArrow",gc=c.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=U(n);return l.jsx(Xa,{...o,...r,ref:t})});gc.displayName=vc;var xc="DropdownMenuSubTrigger",yc=c.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=U(n);return l.jsx(Za,{...o,...r,ref:t})});yc.displayName=xc;var wc="DropdownMenuSubContent",bc=c.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=U(n);return l.jsx(Qa,{...o,...r,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});bc.displayName=wc;var tn=eo,nn=no,rn=ro,on=so,_e=io,Cc=ao;const co=({widget:e,value:t,onChange:n,fieldName:r})=>{var o;if(!e)return l.jsx("input",{type:"text",value:t||"",onChange:s=>n(s.target.value),placeholder:`Enter ${r} value...`,className:"flex-1 px-2 py-1 text-sm border rounded bg-white"});switch((o=e.name)==null?void 0:o.toLowerCase()){case"boolean":case"checkbox":return l.jsxs("select",{value:t,onChange:s=>n(s.target.value==="true"),className:"flex-1 px-2 py-1 text-sm border rounded bg-white",children:[l.jsx("option",{value:"",children:"Select..."}),l.jsx("option",{value:"true",children:"Yes"}),l.jsx("option",{value:"false",children:"No"})]});case"select":case"dropdown":return l.jsx("select",{value:t,onChange:s=>n(s.target.value),className:"flex-1 px-2 py-1 text-sm border rounded bg-white",children:l.jsx("option",{value:"",children:"Select..."})});case"number":return l.jsx("input",{type:"number",value:t||"",onChange:s=>n(s.target.value),placeholder:`Enter ${r} value...`,className:"flex-1 px-2 py-1 text-sm border rounded bg-white"});case"date":return l.jsx("input",{type:"date",value:t||"",onChange:s=>n(s.target.value),className:"flex-1 px-2 py-1 text-sm border rounded bg-white"});case"datetime":case"datetime-local":return l.jsx("input",{type:"datetime-local",value:t||"",onChange:s=>n(s.target.value),className:"flex-1 px-2 py-1 text-sm border rounded bg-white"});case"time":return l.jsx("input",{type:"time",value:t||"",onChange:s=>n(s.target.value),className:"flex-1 px-2 py-1 text-sm border rounded bg-white"});case"textarea":return l.jsx("textarea",{value:t||"",onChange:s=>n(s.target.value),placeholder:`Enter ${r} value...`,className:"flex-1 px-2 py-1 text-sm border rounded bg-white resize-none",rows:2});case"email":return l.jsx("input",{type:"email",value:t||"",onChange:s=>n(s.target.value),placeholder:`Enter ${r} email...`,className:"flex-1 px-2 py-1 text-sm border rounded bg-white"});case"url":return l.jsx("input",{type:"url",value:t||"",onChange:s=>n(s.target.value),placeholder:`Enter ${r} URL...`,className:"flex-1 px-2 py-1 text-sm border rounded bg-white"});case"password":return l.jsx("input",{type:"password",value:t||"",onChange:s=>n(s.target.value),placeholder:`Enter ${r} password...`,className:"flex-1 px-2 py-1 text-sm border rounded bg-white"});default:return l.jsx("input",{type:"text",value:t||"",onChange:s=>n(s.target.value),placeholder:`Enter ${r} value...`,className:"flex-1 px-2 py-1 text-sm border rounded bg-white"})}};co.__docgenInfo={description:"",methods:[],displayName:"FieldValueInput",props:{widget:{required:!0,tsType:{name:"union",raw:`{
  name: string;
  desc: string | null;
  inversible: boolean;
  data_query: any | null;
} | null`,elements:[{name:"signature",type:"object",raw:`{
  name: string;
  desc: string | null;
  inversible: boolean;
  data_query: any | null;
}`,signature:{properties:[{key:"name",value:{name:"string",required:!0}},{key:"desc",value:{name:"union",raw:"string | null",elements:[{name:"string"},{name:"null"}],required:!0}},{key:"inversible",value:{name:"boolean",required:!0}},{key:"data_query",value:{name:"union",raw:"any | null",elements:[{name:"any"},{name:"null"}],required:!0}}]}},{name:"null"}]},description:""},value:{required:!0,tsType:{name:"any"},description:""},onChange:{required:!0,tsType:{name:"signature",type:"function",raw:"(value: any) => void",signature:{arguments:[{type:{name:"any"},name:"value"}],return:{name:"void"}}},description:""},fieldName:{required:!0,tsType:{name:"string"},description:""}}};const vt=c.memo(({metadata:e,filter:t,onFilterChange:n,onRemove:r})=>{var u,p;const o=c.useRef(t),s=c.useRef(n);c.useEffect(()=>{o.current=t,s.current=n},[t,n]);const a=c.useCallback(h=>{s.current({...o.current,...h})},[]),i=`${t.field}:${t.operator}`,m=((u=e.fields[t.field])==null?void 0:u.label)||t.operator,d=kt(t.field,e),f=((p=e.operators[i])==null?void 0:p.widget)||null;return l.jsx("div",{className:Q("p-2",t.negate?"bg-red-50":""),children:l.jsxs("div",{children:[l.jsxs("label",{className:"block text-xs text-gray-600 mb-1",children:[m," ",l.jsxs("span",{className:"text-xs text-gray-500",children:["(",t.field,")"]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs(tn,{children:[l.jsx(nn,{asChild:!0,children:l.jsxs("button",{className:"inline-flex items-center gap-1 px-2 py-1 text-sm border rounded bg-white hover:bg-gray-50",children:[t.operator,l.jsx(Lt,{className:"w-3 h-3"})]})}),l.jsx(rn,{children:l.jsx(on,{className:"min-w-32 bg-white rounded-md border shadow-lg p-1 z-50",sideOffset:4,align:"start",children:d.map(h=>l.jsx(_e,{className:"flex items-center px-3 py-2 text-sm cursor-pointer hover:bg-gray-100 rounded outline-none",onSelect:()=>a({operator:h,value:""}),children:h},h))})})]}),l.jsx(co,{widget:f,value:t.value,onChange:h=>a({value:h}),fieldName:m}),l.jsx("button",{onClick:()=>a({negate:!t.negate}),className:Q("p-1 rounded border",t.negate?"bg-orange-100 border-orange-300 text-orange-600":"bg-gray-100 border-gray-300 text-gray-500 hover:bg-gray-200"),title:t.negate?"Remove NOT condition":"Add NOT condition",children:l.jsx(Dn,{className:"w-4 h-4"})}),l.jsx("button",{onClick:r,className:"p-1 rounded border bg-gray-100 border-gray-300 text-gray-500 hover:bg-red-100 hover:border-red-300 hover:text-red-600",title:"Remove filter",children:l.jsx(In,{className:"w-4 h-4"})})]})]})})});vt.displayName="FieldFilter";vt.__docgenInfo={description:"",methods:[],displayName:"FieldFilter"};const gt=c.memo(({metadata:e,filter:t,onFilterChange:n,onRemove:r,depth:o=0,isRoot:s=!1})=>{const i=ct(e),m=e.operators&&Object.values(e.operators).some(w=>w.field_name===""),d=c.useRef(t),f=c.useRef(n);c.useEffect(()=>{d.current=t,f.current=n},[t,n]);const u=c.useCallback(w=>{const C=kt(w,e),M={id:tt(),type:"field",field:w,operator:C[0]||"",value:"",negate:!1};f.current({...d.current,children:[...d.current.children,M]})},[e]),p=c.useCallback(w=>{const C={id:tt(),type:"composite",operator:w,children:[],negate:!1};f.current({...d.current,children:[...d.current.children,C]})},[]),h=c.useCallback((w,C)=>{const M=[...d.current.children];M[w]=C,f.current({...d.current,children:M})},[]),g=c.useCallback(w=>{const C=d.current.children.filter((M,R)=>R!==w);f.current({...d.current,children:C})},[]),v=c.useCallback(()=>{f.current({...d.current,negate:!d.current.negate})},[]),x=c.useCallback(w=>{f.current({...d.current,operator:w})},[]),y=t.operator===":and"?"AND":"OR",E=t.operator===":and"?":or":":and",b=E===":and"?"AND":"OR";return l.jsxs("div",{className:Q("p-3 border-b border-t",t.negate?"bg-red-50":"bg-gray-100",o>0&&"ml-4"),style:{marginTop:"-1px",marginBottom:"-1px"},children:[l.jsxs("div",{className:"flex items-center justify-between gap-2 pb-2",children:[l.jsx("div",{className:"flex items-center gap-3",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("button",{onClick:()=>x(E),className:Q("px-3 py-1 text-sm font-medium rounded border","transition-colors hover:bg-gray-100",t.operator===":and"?"bg-blue-100 border-blue-300 text-blue-700":"bg-green-100 border-green-300 text-green-700"),title:`Click to change to ${b}`,children:y}),l.jsxs("div",{children:[l.jsx(xt,{metadata:e,onAddFilter:u,onAddGroup:m&&o<5?p:void 0,disabled:i.length===0,showGroupOptions:m&&o<5}),o>=5&&l.jsx("span",{className:"text-xs text-gray-500",children:"Maximum nesting depth reached"})]})]})}),!s&&l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{onClick:v,className:Q("p-1 rounded border px-2",t.negate?"bg-orange-100 border-orange-300 text-orange-600":"bg-gray-100 border-gray-300 text-gray-500 hover:bg-gray-200"),title:t.negate?"Remove NOT condition":"Add NOT condition",children:l.jsx(Dn,{className:"w-4 h-4"})}),l.jsx(pe,{variant:"outline",size:"sm",onClick:r,children:"Remove Group"})]})]}),l.jsxs("div",{className:"space-y-2 rounded-md border",children:[t.children.length===0&&l.jsx("div",{className:"text-sm text-gray-500 italic text-center py-2",children:"This group is empty. Add some filters below."}),t.children.map((w,C)=>l.jsx("div",{className:"space-y-2",children:w.type==="field"?l.jsx(vt,{metadata:e,filter:w,onFilterChange:M=>h(C,M),onRemove:()=>g(C)}):l.jsx(gt,{metadata:e,filter:w,onFilterChange:M=>h(C,M),onRemove:()=>g(C),depth:o+1})},w.id))]})]})});gt.displayName="CompositeFilterGroup";gt.__docgenInfo={description:"",methods:[],displayName:"CompositeFilterGroup",props:{depth:{defaultValue:{value:"0",computed:!1},required:!1},isRoot:{defaultValue:{value:"false",computed:!1},required:!1}}};const xt=c.memo(({metadata:e,onAddFilter:t,onAddGroup:n,disabled:r=!1,showGroupOptions:o=!1})=>{const s=ct(e);return s.length===0?null:l.jsxs(tn,{children:[l.jsx(nn,{asChild:!0,children:l.jsxs("button",{disabled:r,className:"inline-flex items-center gap-2 px-3 py-1 text-sm border rounded bg-white hover:bg-gray-50 disabled:bg-gray-100 disabled:text-gray-500 disabled:cursor-not-allowed",children:[l.jsx(Fn,{className:"w-3 h-3"}),"Add Filter",l.jsx(Lt,{className:"w-3 h-3"})]})}),l.jsx(rn,{children:l.jsxs(on,{className:"min-w-48 bg-white rounded-md border shadow-lg p-1 z-50",sideOffset:4,align:"start",children:[s.map(a=>{const i=e.fields[a];return l.jsx(_e,{className:"flex items-center px-3 py-2 text-sm cursor-pointer hover:bg-gray-100 rounded outline-none",onSelect:()=>t(a),children:i.label},a)}),o&&l.jsxs(l.Fragment,{children:[l.jsx(Cc,{className:"h-px bg-gray-200 my-1"}),l.jsx(_e,{className:"flex items-center px-3 py-2 text-sm cursor-pointer hover:bg-gray-100 rounded outline-none",onSelect:()=>n==null?void 0:n(":and"),children:"+ Add AND Group"}),l.jsx(_e,{className:"flex items-center px-3 py-2 text-sm cursor-pointer hover:bg-gray-100 rounded outline-none",onSelect:()=>n==null?void 0:n(":or"),children:"+ Add OR Group"})]})]})})]})});xt.displayName="AddFilterDropdown";const sn=c.memo(({metadata:e,filterRules:t,onFilterRulesChange:n})=>{const r=ct(e),o=e.operators&&Object.values(e.operators).some(p=>p.field_name===""),s=c.useRef(t);c.useEffect(()=>{s.current=t},[t]);const a=c.useCallback(p=>{const h=kt(p,e),g={id:tt(),type:"field",field:p,operator:h[0]||"",value:"",negate:!1};n([...s.current,g])},[n,e]),i=c.useCallback(p=>{const h={id:tt(),type:"composite",operator:p,children:[],negate:!1};n([...s.current,h])},[n]),m=c.useCallback((p,h)=>{const g=[...s.current];g[p]=h,n(g)},[n]),d=c.useCallback(p=>{const h=s.current.filter((g,v)=>v!==p);n(h)},[n]),f=c.useCallback(()=>{n([])},[n]),u=t.length>0;return l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h3",{className:"text-sm font-medium",children:"Filter Rules"}),l.jsxs("div",{className:"flex gap-2",children:[u&&l.jsx(pe,{variant:"outline",size:"sm",onClick:f,children:"Clear All"}),l.jsx(xt,{metadata:e,onAddFilter:a,onAddGroup:o?i:void 0,disabled:r.length===0,showGroupOptions:o})]})]}),l.jsxs("div",{className:"border rounded-md",children:[r.length===0&&l.jsx("div",{className:"p-2 text-sm text-gray-500 italic",children:"No filterable fields available in this dataset"}),!u&&r.length>0&&l.jsx("div",{className:"p-2 text-sm text-gray-500 italic",children:"No filters defined. All records will be returned (subject to other query parameters)."}),t.map((p,h)=>l.jsx("div",{children:p.type==="composite"?l.jsx(gt,{metadata:e,filter:p,onFilterChange:g=>m(h,g),onRemove:()=>d(h),isRoot:!1}):l.jsx(vt,{metadata:e,filter:p,onFilterChange:g=>m(h,g),onRemove:()=>d(h)})},p.id))]})]})});sn.displayName="FilterBuilder";xt.__docgenInfo={description:"",methods:[],displayName:"AddFilterDropdown",props:{disabled:{defaultValue:{value:"false",computed:!1},required:!1},showGroupOptions:{defaultValue:{value:"false",computed:!1},required:!1}}};sn.__docgenInfo={description:"",methods:[],displayName:"FilterBuilder"};const Ec=({availableFields:e,metadata:t,onAddSort:n,disabled:r=!1})=>e.length===0?null:l.jsxs(tn,{children:[l.jsx(nn,{asChild:!0,children:l.jsxs("button",{disabled:r,className:"inline-flex items-center gap-2 px-3 py-1 text-sm border rounded bg-white hover:bg-gray-50 disabled:bg-gray-100 disabled:text-gray-500 disabled:cursor-not-allowed",children:[l.jsx(Fn,{className:"w-3 h-3"}),"Add Sort",l.jsx(Lt,{className:"w-3 h-3"})]})}),l.jsx(rn,{children:l.jsx(on,{className:"min-w-48 bg-white rounded-md border shadow-lg p-1 z-50",sideOffset:4,align:"start",children:e.map(o=>{const s=t.fields[o];return l.jsx(_e,{className:"flex items-center px-3 py-2 text-sm cursor-pointer hover:bg-gray-100 rounded outline-none",onSelect:()=>n(o),children:(s==null?void 0:s.label)||o},o)})})})]}),lo=({metadata:e,sortRules:t,onSortRulesChange:n})=>{const r=No(e),o=t.map(u=>u.field),s=r.filter(u=>!o.includes(u)),a=u=>{const p={field:u,direction:"asc"};n([...t,p])},i=(u,p)=>{const h=[...t];h[u]={...h[u],direction:p},n(h)},m=u=>{const p=t.filter((h,g)=>g!==u);n(p)},d=(u,p)=>{if(p<0||p>=t.length)return;const h=[...t],[g]=h.splice(u,1);h.splice(p,0,g),n(h)},f=()=>{n([])};return l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h3",{className:"text-sm font-medium",children:"Sort Rules"}),l.jsxs("div",{className:"flex gap-2",children:[t.length>0&&l.jsx(pe,{variant:"outline",size:"sm",onClick:f,children:"Clear All"}),l.jsx(Ec,{availableFields:s,metadata:e,onAddSort:a,disabled:s.length===0})]})]}),r.length===0&&l.jsx("div",{className:"text-sm text-gray-500 italic",children:"No sortable fields available in this dataset"}),t.length===0&&r.length>0&&l.jsx("div",{className:"p-2 border rounded-md text-sm text-gray-500 italic",children:"No sort rules defined. Data will be returned in default order."}),t.length>0&&l.jsx("div",{className:"border rounded-md",children:t.map((u,p)=>{const h=e.fields[u.field];return l.jsxs("div",{className:"flex items-center p-2 gap-3",children:[l.jsxs("div",{className:"flex flex-col items-center gap-1",children:[l.jsx("span",{className:"text-xs text-gray-500"}),l.jsxs("div",{className:"flex flex-col gap-1",children:[l.jsx(pe,{variant:"outline",size:"sm",onClick:()=>d(p,p-1),disabled:p===0,className:"h-6 w-6 p-0",children:""}),l.jsx(pe,{variant:"outline",size:"sm",onClick:()=>d(p,p+1),disabled:p===t.length-1,className:"h-6 w-6 p-0",children:""})]})]}),l.jsxs("div",{className:"flex-1",children:[l.jsxs("label",{className:"block text-xs text-gray-600 mb-1",children:["Field #",p+1,": ",u.field," "]}),l.jsx("div",{className:"px-2 py-1 text-sm border rounded bg-gray-100 text-gray-700 font-medium",children:(h==null?void 0:h.label)||u.field})]}),l.jsxs("div",{className:"flex-1",children:[l.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:"Direction"}),l.jsxs("div",{className:"flex rounded border bg-white overflow-hidden",children:[l.jsxs("button",{onClick:()=>i(p,"asc"),className:Q("flex-1 px-3 py-1 text-sm font-medium transition-colors flex items-center justify-center gap-1",u.direction==="asc"?"bg-blue-100 text-blue-700 border-r border-blue-200":"text-gray-600 hover:bg-gray-50 border-r border-gray-200"),children:[l.jsx(yo,{className:"w-3 h-3"}),"Asc"]}),l.jsxs("button",{onClick:()=>i(p,"desc"),className:Q("flex-1 px-3 py-1 text-sm font-medium transition-colors flex items-center justify-center gap-1",u.direction==="desc"?"bg-blue-100 text-blue-700":"text-gray-600 hover:bg-gray-50"),children:[l.jsx(go,{className:"w-3 h-3"}),"Desc"]})]})]}),l.jsxs("div",{className:"flex-1",children:[l.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:"Remove"}),l.jsx("button",{onClick:()=>m(p),className:"p-1 rounded border bg-gray-100 border-gray-300 text-gray-500 hover:bg-red-100 hover:border-red-300 hover:text-red-600",title:"Remove sort rule",children:l.jsx(In,{className:"w-4 h-4"})})]})]},p)})})]})};lo.__docgenInfo={description:"",methods:[],displayName:"SortBuilder",props:{metadata:{required:!0,tsType:{name:"QueryMetadata"},description:""},sortRules:{required:!0,tsType:{name:"Array",elements:[{name:"SortRule"}],raw:"SortRule[]"},description:""},onSortRulesChange:{required:!0,tsType:{name:"signature",type:"function",raw:"(rules: SortRule[]) => void",signature:{arguments:[{type:{name:"Array",elements:[{name:"SortRule"}],raw:"SortRule[]"},name:"rules"}],return:{name:"void"}}},description:""}}};const Rc=({metadata:e,initialQuery:t={},onQueryChange:n,onExecute:r,title:o="Query Builder",className:s,showFieldSelection:a=!0,showSortRules:i=!0,showFilterRules:m=!0,showQueryDisplay:d=!0})=>{const[f,u]=c.useState(()=>({selectedFields:t.selectedFields||[],sortRules:t.sortRules||[],filterRules:t.filterRules||[]}));c.useEffect(()=>{n==null||n(f)},[f,n]);const p=c.useCallback(w=>{u(C=>({...C,selectedFields:w}))},[]),h=c.useCallback(w=>{u(C=>({...C,sortRules:w}))},[]),g=c.useCallback(w=>{u(C=>({...C,filterRules:w}))},[]),v=c.useCallback(()=>{r==null||r(f)},[f,r]),x=c.useCallback(()=>{u({selectedFields:[],sortRules:[],filterRules:[]})},[]);if(!e)return l.jsx("div",{className:Q("p-6 border rounded-lg bg-white shadow-sm",s),children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-gray-600 text-sm",children:"No metadata available"}),l.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Provide ",l.jsx("code",{children:"metadata"})," prop"]})]})});const y=e.fields&&Object.keys(e.fields).length>0,E=e.operators&&Object.values(e.operators).some(w=>w.field_name!==""),b=e.sortables&&e.sortables.length>0;return l.jsxs("div",{className:Q("border rounded-lg bg-white shadow-sm",s),children:[o&&l.jsx("div",{className:"px-6 py-4 border-b bg-gray-50",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:o}),l.jsxs("div",{className:"flex items-center gap-2",children:[r&&l.jsx("button",{onClick:v,className:"px-3 py-1 bg-blue-600 text-white text-sm rounded hover:bg-blue-700 font-medium",children:"Execute Query"}),l.jsx("button",{onClick:x,className:"px-3 py-1 border text-sm rounded hover:bg-gray-50 font-medium",children:"Clear All"})]})]})}),l.jsxs("div",{className:"p-6 space-y-6",children:[a&&y&&l.jsxs("div",{children:[l.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:"Select Fields"}),l.jsx(Ln,{metadata:e,selectedFields:f.selectedFields,onSelectedFieldsChange:p})]}),i&&b&&l.jsxs("div",{children:[l.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:"Sort Rules"}),l.jsx(lo,{metadata:e,sortRules:f.sortRules,onSortRulesChange:h})]}),m&&E&&l.jsxs("div",{children:[l.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:"Filter Rules"}),l.jsx(sn,{metadata:e,filterRules:f.filterRules,onFilterRulesChange:g})]}),d&&l.jsxs("div",{children:[l.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:"Query Builder State"}),l.jsx("div",{className:"bg-gray-50 border rounded p-3",children:l.jsx("pre",{className:"text-xs text-gray-700 whitespace-pre-wrap",children:JSON.stringify(f,null,2)})})]}),!a&&!i&&!m&&!d&&l.jsxs("div",{className:"text-center py-8 text-gray-500",children:[l.jsx("div",{className:"text-sm",children:"All sections are hidden"}),l.jsx("div",{className:"text-xs mt-1",children:"Enable sections via component props"})]})]})]})};Rc.__docgenInfo={description:"",methods:[],displayName:"QueryBuilder",props:{metadata:{required:!0,tsType:{name:"QueryMetadata"},description:""},initialQuery:{required:!1,tsType:{name:"Partial",elements:[{name:"QueryBuilderState"}],raw:"Partial<QueryBuilderState>"},description:"",defaultValue:{value:"{}",computed:!1}},onQueryChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(state: QueryBuilderState) => void",signature:{arguments:[{type:{name:"QueryBuilderState"},name:"state"}],return:{name:"void"}}},description:""},onExecute:{required:!1,tsType:{name:"signature",type:"function",raw:"(state: QueryBuilderState) => void",signature:{arguments:[{type:{name:"QueryBuilderState"},name:"state"}],return:{name:"void"}}},description:""},title:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:'"Query Builder"',computed:!1}},className:{required:!1,tsType:{name:"string"},description:""},showFieldSelection:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"true",computed:!1}},showSortRules:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"true",computed:!1}},showFilterRules:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"true",computed:!1}},showQueryDisplay:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"true",computed:!1}}}};export{In as C,Oc as M,Rc as Q,_c as f,jc as t};
