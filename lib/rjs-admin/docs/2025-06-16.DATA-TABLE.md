## DATA TABLE COMPONENT

### Requirements


Create a data table components with the following features:

- The Table accept a metadata (either via props or fetchMetadata method), the metadata structure are specified below (same with the QueryBuilder metadata)
- Use QueryState as the main state controling the table behavior (refer to 2025-06-16.QUERY-BUILDER.md) 
- pagination and page size selection
- unobstrusive loading indicator next to the pagination component
- pagination component can be replaced by a custom implementation
- table column header and body rows can be customized by custom implementations
- Create a QueryBuilderModal (refer to 2025-06-16.QUERY-BUILDER.md) and use it in the data table to manage it QueryState.
- Use TailwindCSS for styling
- Use semantic css class names & `@apply` syntax for style management
- Use Radix UI primitive for widget, input, button
- Allow quick edit filters  (noop filters) at top of table columns
- Table header are clickable for sorting (see QueryState)
- Table header are selectable to add remove columns (see QueryState)
- Locations:
  - PostCSS styles: ./lib/rjs-admin/src/styles/components/datatable/
  - Component files: ./lib/rjs-admin/src/components/datatable/
  - Types definitions: ./lib/rjs-admin/src/types/
  - Storybook stories: ./lib/rjs-admin/stories/ 


## Component Structure

- DataTable
    - TableControl
        - ... headers, search box
        - button to activate QueryBuilderModal (to manage the datatable's QueryState)
    - TableView: accept `data` & `metadata` as a parameters and display the table rows. Order as follow: 
        - table
            - thead
                - TableHeader
                - TableFilter
            - tbody
                TableRow
            - tfoot (optional)
                TableFooter
    - Pagination
    - fetchData (method)
    - fetchMetadata (method)


## Metadata structure

```javascript
QUERY_METADATA = {
  "name": "user",
  "title": "UserQuery",
  "desc": "List all user accounts",
  "fields": {  // Fields metadata, list of fields available for the query
    "id": {
      "label": "User ID",
      "name": "id",   // name / key of the field, same value with the mapping key
      "desc": null,   // field description
      "noop": "eq",   // default query operation when none is specified.
      "hidden": true, // field is not displayed on the datatable by default
      "sortable": true // field is sortable
    },
    "name__given": {
      "label": "Given Name",
      "name": "name__given",
      "desc": null,
      "noop": "eq",
      "hidden": false,
      "sortable": true
    },
    "name__family": {
      "label": "Family Name",
      "name": "name__family",
      "desc": null,
      "noop": "eq",
      "hidden": false,
      "sortable": true
    }
  },
  "filters": {   // Query operators' metadata
    "id.eq": {   // key of the operator, uniquely identify the operator
      "field": "id",  // field that is associated with this operator, this is the first part of the key (dot separated)
      "label": "Equals",  // label for user display
      "dtype": "uuid",  // datatype of the value, use for basic validation
      "input": {   // information to be passed into the FilterInput component to render the input widget.
      
        "type": "text",
        "placeholder": "Enter some values ..."
      }
    },
    "id.in": {
      "field": "id",
      "label": "In List",
      "dtype": "uuid",
      "input": {
        "type": "text"
      }
    },
    "name__given.eq": {
      "field": "name__given",
      "label": "Equals",
      "dtype": "string",
      "input": {
        "type": "text"
      }
    },
    "name__given.ilike": {
      "field": "name__given",
      "label": "Contains",
      "dtype": "string",
      "input": {
        "type": "text"
      }
    },
    "name__given.ne": {
      "field": "name__given",
      "label": "Not Equals",
      "dtype": "string",
      "input": {
        "type": "text"
      }
    },
    "name__family.eq": {
      "field": "name__family",
      "label": "Equals",
      "dtype": "string",
      "input": {
        "type": "text"
      }
    },
    "name__family.ilike": {
      "field": "name__family",
      "label": "Contains",
      "dtype": "string",
      "input": {
        "type": "text"
      }
    },
    "name__family.ne": {
      "field": "name__family",
      "label": "Not Equals",
      "dtype": "string",
      "input": {
        "type": "text"
      }
    }
  },
  "composites": {  // Composite operators
    ".and": {
        "label": "And"
    },
    ".or": {
        "label": "Or"
    }
  }
  "default_order": ["id.desc"]
}

```

## Data Fetching

the data table may accept a dataApi props that is used by both fetchData & fetchMetadata methods via APIManager.query and APIManager.queryMeta